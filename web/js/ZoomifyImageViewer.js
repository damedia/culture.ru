(function(){var a=function(){return this}.call();a.Z={}})(),Z.showImage=function(a,b,c){Z.Utils.z202(),Z.Utils.z201(),Z.Utils.z200(),Z.Utils.z258(),Z.z361=a,Z.imagePath=Z.Utils.z392(b),Z.parameters=Z.Utils.z368(c),Z.Utils.addEventListener(document,"DOMContentLoaded",Z.initialize),Z.Utils.addEventListener(window,"load",Z.initialize)},Z.initialize=function(){arguments.callee.done||(arguments.callee.done=!0,Z.Utils.z259(),Z.Utils.z399(Z.parameters),Z.Viewer=new Z.ZoomifyImageViewer,Z.Utils.isStrVal(Z.z245)?Z.Utils.z275():Z.Viewer.z229(),Z.debug!=0&&Z.Utils.trace(Z.Utils.z285("z122")))},Z.ZoomifyImageViewer=function(){Z.ViewerDisplay=Z.Utils.z248("div","ViewerDisplay","inline-block","relative","hidden","100%","100%","0px","0px","none","0px","transparent none","0px","0px","normal","pointer"),Z.pageContainer=document.getElementById(Z.z361);var a=Z.Utils.getElementStyle(Z.pageContainer);Z.viewerW=parseFloat(a.width),Z.viewerH=parseFloat(a.height),isNaN(Z.viewerW)&&(Z.viewerW=Z.ViewerDisplay.clientWidth),isNaN(Z.viewerH)&&(Z.viewerH=Z.ViewerDisplay.clientHeight),Z.pageContainer.innerHTML="",Z.pageContainer.appendChild(Z.ViewerDisplay),this.z229=function(){Z.Viewport=new Z.ZoomifyViewport},this.z227=function(){Z.toolbarVisible>0&&(Z.Toolbar=new Z.ZoomifyToolbar(Z.Viewport)),Z.navigatorVisible>0&&(Z.Navigator=new Z.ZoomifyNavigator(Z.Viewport)),Z.Navigator&&Z.Navigator.z432()},this.setSizeAndPosition=function(a,b,c,d,e){Z.viewerW=a,Z.viewerH=b,Z.ViewerDisplay.style.width=a+"px",Z.ViewerDisplay.style.height=b+"px",Z.Viewport&&Z.Viewport.z284()&&Z.Viewport.setSizeAndPosition(a,b,c,d);var f=Z.toolbarPosition==1?b-Z.toolbarH:0;Z.ToolbarDisplay&&Z.Toolbar.z284()&&(Z.Toolbar.setSizeAndPosition(a,null,null,f),Z.toolbarVisible>1&&Z.Toolbar.show(!0)),Z.NavigatorDisplay&&Z.Navigator.z284()&&(Z.Navigator.setSizeAndPosition(null,null,c,d,Z.navigatorFit),Z.navigatorVisible>1&&Z.Navigator.setVisibility(!0)),e&&Z.Viewport.updateView(!0)},this.setImagePath=function(a,b){if(Z.Viewport&&Z.Viewport.z284()){Z.Viewport.z448(!0),Z.imagePath=Z.Utils.z392(a);if(b==null){var c=new Z.NetConnector;Z.Viewport.loadImageProperties(c)}else{var d=Z.Utils.z241(b);Z.Viewport.z366(d)}}},this.setHotspotPath=function(a){Z.Viewport&&Z.Viewport.z284()&&Z.Viewport.setHotspotPath(a)}},Z.ZoomifyViewport=function(){function td(b,f,h,j,k,l,m){Z.imageW=b,Z.imageH=f,c=k,d=l,e=m,g=j,i=h,Ed(),Hd(),ab=ae(X,Z.initialZ),$=ae(W,Z.initialZ),_=$,Z.useCanvas&&y.scale($,$),E&&Ae(),H&&Ge(),Id(),Df(Z.initialX,Z.initialY,Z.initialZ),Z.fullPageInitial&&a.toggleFullPageView(!0),Nf(),xd(!0),Z.Viewer.z227()}function ud(a,b,f,h,j,k,l){xd(!1),vd(),Z.imageW=a,Z.imageH=b,c=j,d=k,e=l,g=h,i=f,Ed(),Hd(),ab=ae(X,Z.initialZ),$=ae(W,Z.initialZ),_=$,Z.useCanvas&&(y.restore(),y.scale($,$)),s&&Sd(s),w&&Sd(w),A&&Sd(A),E&&Sd(E),H&&Sd(H),O&&Sd(O),S&&Sd(S),E&&Ae(),H&&Ge(),Id(),zd(Ab,Bb,Cb,Db),Df(Z.initialX,Z.initialY,Z.initialZ),xd(!0),Z.navigatorVisible>0&&Z.Navigator.setImagePath(Z.imagePath)}function vd(){V=1,W=0,X=0,bb=[],cb=[],db=[],eb=[],fb=[],gb=[],hb=[],ib=[],jb=[],kb=[],lb=[],mb=[],nb=[],ob=[],pb=[],qb=[],rb=[],sb=0,E&&(yc=[],zc=[]),H&&(Ac=[],Bc=[],Vc!=null?$c=[]:(hd=[],kd=[],ld=[],id=[],jd=[]))}function wd(){return b}function xd(a){b=a}function yd(){o=Z.Utils.z248("div","viewportContainer","inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal"),Z.ViewerDisplay.appendChild(o),p=o,q=p.style,r=Z.Utils.z248(Z.useCanvas?"canvas":"div","viewportBackfillDisplay","inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal"),o.appendChild(r),s=r,t=s.style,v=Z.Utils.z248(Z.useCanvas?"canvas":"div","viewportDisplay","inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal"),o.appendChild(v),w=v,x=w.style,Z.useCanvas&&(z=Z.Utils.z248("canvas","transitionDisplay","inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal"),o.appendChild(z),A=z,B=A.style),Z.Utils.isStrVal(Z.watermarkPath)&&(D=Z.Utils.z248("div","watermarkDisplay","inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal"),o.appendChild(D),E=D,F=E.style);if(Z.Utils.isStrVal(Z.hotspotPath)||Z.Utils.isStrVal(Z.annotationPath))Z.Utils.isStrVal(Z.annotationPath)&&Z.useCanvas&&(N=Z.Utils.z248("canvas","drawingDisplay","inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal"),o.appendChild(N),O=N,P=O.style,Z.editMode&&(R=Z.Utils.z248("canvas","editingDisplay","inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal"),o.appendChild(R),S=R,T=S.style)),G=Z.Utils.z248("div","hotspotDisplay","inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal"),o.appendChild(G),H=G,I=H.style;Z.useCanvas?(u=s.getContext("2d"),y=w.getContext("2d"),C=A.getContext("2d")):(s.innerHTML="",w.innerHTML=""),E&&(E.innerHTML=""),H&&(H.innerHTML=""),O&&(Q=O.getContext("2d")),S&&(U=S.getContext("2d"))}function zd(a,b,c,d){if(typeof c=="undefined"||c===null)c=0;if(typeof d=="undefined"||d===null)d=0;Ab=a,Bb=b,Eb=Ab*zb,Fb=Bb*zb,Gb=Eb/2,Hb=Fb/2,Ib=-((Eb-Ab)/2)+c,Jb=(Eb-Ab)/2+c,Kb=-((Fb-Bb)/2)+d,Lb=(Fb-Bb)/2+d,p.width=Eb,p.height=Fb,q.width=Eb+"px",q.height=Fb+"px",q.left=Ib+"px",q.top=Kb+"px",w.width=Eb,w.height=Fb,E&&(E.width=Eb,E.height=Fb,F.width=Eb+"px",F.height=Fb+"px");if(H){H.width=Eb,H.height=Fb,I.width=Eb+"px",I.height=Fb+"px";if(J){var e=parseInt(Z.Utils.z285("z69"),10),f=Ye(Wc,e,Ab,Bb);K.left=f.x+"px",K.top=f.y+"px"}}O&&(O.width=Eb,O.height=Fb,P.width=Eb+"px",P.height=Fb+"px"),S&&(S.width=Eb,S.height=Fb,T.width=Eb+"px",T.height=Fb+"px");if(L){var g=parseInt(Z.Utils.z285("z29"),10),h=parseInt(Z.Utils.z285("z27"),10),i=df(ad,g,h,Ab,Bb);M.left=i.x+"px",M.top=i.y+"px"}Z.useCanvas&&(y.translate(Gb,Hb),y.save(),O&&(Q.translate(Gb,Hb),Q.save()),S&&(U.translate(Gb,Hb),U.save()))}function Ad(a){if(Z.tileSource=="ZoomifyImageFolder"){var b=Z.Utils.z215(Z.imagePath+"/"+"ImageProperties.xml");a.loadXML(b)}else Z.tileSource=="ZoomifyImageFile"?Cd(a):Z.tileSource=="OtherTileSource"&&Dd(a)}function Bd(b){if(typeof a.z284=="undefined")var c=window.setTimeout(function(){Bd(b)},100);else{var d,e,f,g,h,i,j,k;Z.tileSource=="ZoomifyImageFolder"?(d=parseInt(b.documentElement.getAttribute("WIDTH"),10),e=parseInt(b.documentElement.getAttribute("HEIGHT"),10),g=parseInt(b.documentElement.getAttribute("NUMTILES"),10),h=parseInt(b.documentElement.getAttribute("NUMIMAGES"),10),i=parseInt(b.documentElement.getAttribute("VERSION"),10),f=parseInt(b.documentElement.getAttribute("TILESIZE"),10)):Z.tileSource=="ZoomifyImageFile"&&(d=parseInt(b.documentElement.getAttribute("WIDTH"),10),e=parseInt(b.documentElement.getAttribute("HEIGHT"),10),f=parseInt(b.documentElement.getAttribute("TILESIZE"),10),g=parseInt(b.documentElement.getAttribute("NUMTILES"),10),h=parseInt(b.documentElement.getAttribute("NUMIMAGES"),10),i=parseInt(b.documentElement.getAttribute("VERSION"),10),j=parseInt(b.documentElement.getAttribute("HEADERSIZE"),10),k=1060+j),!isNaN(d)&&d>0&&!isNaN(e)&&e>0&&!isNaN(f)&&f>0?a.z284()?ud(d,e,f,g,i,j,k):td(d,e,f,g,i,j,k):Z.Utils.z405(Z.Utils.z285("z147"))}}function Cd(a){var b=1,c=0,d=1060,e=Z.imagePath.replace(".","%2E"),f=Z.tileHandlerPathFull+"?file="+e+"&requestType="+b+"&begin="+c+"&end="+d;a.loadXML(f)}function Dd(a){}function Ed(){var a=Fd();a!=g&&(a=Gd(),a!=g&&Z.Utils.z405(Z.Utils.z285("z146")))}function Fd(){var a=Z.imageW,b=Z.imageH;while(a>i||b>i)a/=2,b/=2,V++;a=Z.imageW,b=Z.imageH;var c=0;for(var d=V-1;d>=0;d--)db[d]=a,eb[d]=b,fb[d]=Math.ceil(db[d]/i),gb[d]=Math.ceil(eb[d]/i),hb[d]=fb[d]*gb[d],a/=2,b/=2,c+=hb[d];return c}function Gd(){db=[],eb=[],fb=[],gb=[],V=0;var a="DIV2",b=Z.imageW,c=Z.imageH;V=1;var d=2;while(b>i||c>i)a=="Div2"?(b=Math.floor(b/2),c=Math.floor(c/2)):a=="Plus1Div2"?(b=Math.floor((b+1)/2),c=Math.floor((c+1)/2)):(b=Math.floor(Z.imageW/d),c=Math.floor(Z.imageH/d),d*=2,b%2&&b++,c%2&&c++),V++;b=Z.imageW,c=Z.imageH,d=2,tileCounter=0;for(var e=V-1;e>=0;e--)fb[e]=Math.floor(b/i),b%i&&fb[e]++,gb[e]=Math.floor(c/i),c%i&&gb[e]++,hb[e]=fb[e]*gb[e],tileCounter+=hb[e],db[e]=b,eb[e]=c,a=="Div2"?(b=Math.floor(b/2),c=Math.floor(c/2)):a=="Plus1Div2"?(b=Math.floor((b+1)/2),c=Math.floor((c+1)/2)):(b=Math.floor(Z.imageW/d),c=Math.floor(Z.imageH/d),d*=2,b%2&&b++,c%2&&c++);return tileCounter}function Hd(){var a=parseFloat(Z.Utils.z285("z74")),b=parseFloat(Z.Utils.z285("z75")),c=parseFloat(Z.Utils.z285("z76")),d=parseFloat(Z.Utils.z285("z83")),e=parseFloat(Z.Utils.z285("z81"));niX=isNaN(a)?null:a,niY=isNaN(b)?null:b,niZ=isNaN(c)?null:c,nmnZ=isNaN(d)?null:d,nmxZ=isNaN(e)?null:e;if(!Z.parameters)Z.initialX=niX,Z.initialY=niY,Z.initialZ=niZ,Z.minZ=nmnZ,Z.maxZ=nmxZ;else{var f=Z.parameters.toString();f.indexOf("zInitialX")==-1&&(Z.initialX=niX),f.indexOf("zInitialY")==-1&&(Z.initialY=niY),f.indexOf("zInitialZoom")==-1&&(Z.initialZ=niZ),f.indexOf("zMinZ")==-1&&(Z.minZ=nmnZ),f.indexOf("zMaxZ")==-1&&(Z.maxZ=nmxZ)}Z.initialX==null&&(Z.initialX=Z.imageW/2),Z.initialY==null&&(Z.initialY=Z.imageH/2),Z.fitZ=ve(),Z.initialZ==null&&(Z.initialZ=Z.fitZ),Z.minZ==null&&(Z.minZ=Z.fitZ),Z.maxZ==null&&(Z.maxZ=Z.fitZ),Z.initialZ<Z.minZ&&(Z.initialZ=Z.minZ),Z.initialZ>Z.maxZ&&(Z.initialZ=Z.maxZ)}function Id(){Jd(yb),V>vb&&(Jd(xb),V>ub&&Jd(wb)),cb.sort(),cb=Z.Utils.z391(cb),Rd(cb,ke,0,"backfill")}function Jd(a){var b=fb[a]-1,c=gb[a]-1;for(var d=0;d<=c;d++)for(var e=0;e<=b;e++)cb.push(a+"-"+e+"-"+d)}function Kd(a,b){}function Ld(b){var c=!1;if(b||parseFloat(x.width)!=w.width)Z.useCanvas&&(x.width=w.width+"px",x.height=w.height+"px",x.left="0px",x.top="0px",y.restore(),y.save(),y.scale($,$),O&&(P.width=O.width+"px",P.height=O.height+"px",P.left="0px",P.top="0px"),S&&(T.width=S.width+"px",T.height=S.height+"px",T.left="0px",T.top="0px")),c=!0;if(b||parseFloat(q.left)!=Ib||parseFloat(q.top)!=Kb){var d=parseFloat(q.left)-Ib,e=parseFloat(q.top)-Kb;q.left=Ib+"px",q.top=Kb+"px",Ob=parseFloat(t.left)+d,Pb=parseFloat(t.top)+e,t.left=Ob+"px",t.top=Pb+"px";var f=a.getZoom();Z.imageX=Z.imageX-d/f,Z.imageY=Z.imageY-e/f,c=!0}c&&Pd(w,W,kb,"centerOut",!1,"1. Updating view: resetting display positions")}function Md(){$!=_&&(Z.imageZ=cc),Z.imageZ<Z.minZ&&(Z.imageZ=Z.minZ);var a=k,b=V;while(a/2>=Z.imageZ)b--,a/=2;b=b-1<0?0:b-1;var c=ae(b,Z.imageZ);if(b!=W||c!=$)Z.useCanvas&&(y.restore(),y.save(),y.scale(c,c)),W!=b&&(Y=!0),W=b,$=c;_=$}function Nd(){X=W>ub?wb:W>vb?xb:yb,ab=ae(X,Z.imageZ),tierBackfillW=db[X],tierBackfillH=eb[X],s.width=tierBackfillW,s.height=tierBackfillH;var a=tierBackfillW*ab,b=tierBackfillH*ab,c=Z.imageX*Z.imageZ,d=Z.imageY*Z.imageZ;Mb=a,Nb=b,Ob=Gb-c,Pb=Hb-d,Z.useCanvas&&(t.width=Mb+"px",t.height=Nb+"px"),t.left=Ob+"px",t.top=Pb+"px"}function Od(){var a=Wd();for(var b=a.top,c=a.bottom;b<=c;b++)for(var d=a.left,e=a.right;d<=e;d++)jb.push(W+"-"+d+"-"+b);lb.sort(),jb.sort(),lb=Z.Utils.z391(lb),jb=Z.Utils.z391(jb),Z.debug==2&&Z.Utils.trace("Tiles required: "+jb.join(", "));var f=Z.Utils.intersect(jb,lb);jb=Z.Utils.subtract(jb,lb),sb=tilesLoadingNamesLength=jb.length,Z.ToolbarDisplay&&Z.Toolbar.z284()&&Z.Toolbar.updateProgress(sb,tilesLoadingNamesLength),lb=Z.Utils.subtract(lb,f),lb=lb.concat(f);if(tilesLoadingNamesLength!=0){for(var g=0,h=ib.length;g<h;g++){var i=ib[g];i.alpha=1}ib=[]}}function Pd(a,b,c,d,e,f){if(c.length>0){var g=Wd();e||Sd(a);if(d=="canvasCopy")Sd(w),y.restore(),y.save(),y.scale(1,1),y.drawImage(A,-Gb,-Hb),y.restore(),y.save(),y.scale($,$);else if(d=="centerOut"){var h=Math.floor(c.length/2);for(var i=h,j=c.length;i<j;i++){var k=c[i];k&&k.t==b&&(b==X||k.c>=g.left&&k.c<=g.right&&k.r>=g.top&&k.r<=g.bottom)&&ne(a,b,k);if(c.length-i-1!=i){var k=c[c.length-i-1];k&&k.t==b&&(b==X||k.c>=g.left&&k.c<=g.right&&k.r>=g.top&&k.r<=g.bottom)&&ne(a,b,k)}}}else for(var i=0,j=c.length;i<j;i++){var k=c[i];k&&k.t==b&&(b==X||k.c>=g.left&&k.c<=g.right&&k.r>=g.top&&k.r<=g.bottom)&&ne(a,b,k)}if(Z.debug==2&&a.id=="viewportDisplay"){var l=[];for(var i=0,j=c.length;i<j;i++)k&&c[i].t==b&&(b==X||c[i].c>=g.left&&c[i].c<=g.right&&c[i].r>=g.top&&c[i].r<=g.bottom)&&l.push(c[i].name);l.length>0&&(l.sort(),l=Z.Utils.z391(l));var m=l.length>0?l.join(", "):"No cached tiles to redisplay";Z.Utils.trace("Tiles redisplaying - "+f+": "+m)}}}function Qd(a,b){var c=Wd();A.width=w.width,A.height=w.height,B.width=x.width,B.height=x.height,B.left=x.left,B.top=x.top,C.restore(),C.save(),C.translate(Gb,Hb),C.scale($,$);for(var d=0,e=b.length;d<e;d++){var f=b[d];f&&f.t==a&&(a==X||f.c>=c.left&&f.c<=c.right&&f.r>=c.top&&f.r<=c.bottom)&&ne(A,a,f)}}function Rd(a,b,c,d){if(a.length>0){var e=(new Date).getTime();if(c){var f=Math.floor(a.length/2);for(var g=f,h=a.length;g<h;g++){var i=a[g];if(i){var j=new ee(i,d);ie(j,e,b)}if(a.length-g-1!=g){var i=a[a.length-g-1];if(i){var j=new ee(i,d);ie(j,e,b)}}}}else for(var g=0,h=a.length;g<h;g++){var i=a[g];if(i){var j=new ee(i,d);ie(j,e,b)}}var k=typeof d!="undefined"&&d!==null?" - "+d+": ":": ";Z.debug==2&&k!=" - backfill: "&&Z.Utils.trace("Tiles to be requested"+k+a.join(", "))}else Z.debug==2&&Z.Utils.trace("No new tiles requested.")}function Sd(a){if(a)if(Z.useCanvas&&a.tagName=="CANVAS"){var b=a.getContext("2d");b.save(),b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,b.canvas.width,b.canvas.height),b.restore()}else while(a.hasChildNodes())a.removeChild(a.lastChild)}function Td(){if(Z.ToolbarDisplay&&Z.Toolbar.z284()){var b=a.getZoom();Z.Toolbar.z418(b)}}function Ud(){Z.Navigator&&Z.Navigator.z284()&&Z.Navigator.z420()}function Vd(){return new Zd(Xd(),W)}function Wd(){return new Zd(Yd(),W)}function Xd(){var b=parseFloat(q.left)-Ib,c=parseFloat(q.top)-Kb;if(Z.useCanvas){var d=parseFloat(q.width)/p.width;b/=d,c/=d}var e=a.getZoom();b!=0&&(b/=e),c!=0&&(c/=e);var f=Z.imageX-b,g=Z.imageY-c,h=-(Ab/2),i=Ab/2,j=-(Bb/2),k=Bb/2;return new $d(f,g,h,i,j,k,e)}function Yd(){var b=parseFloat(q.left)-Ib,c=parseFloat(q.top)-Kb;if(Z.useCanvas){var d=parseFloat(q.width)/p.width;b/=d,c/=d}var e=a.getZoom();b!=0&&(b/=e),c!=0&&(c/=e);var f=Z.imageX-b,g=Z.imageY-c,h=-(Eb/2),i=Eb/2,j=-(Fb/2),k=Fb/2;return new $d(f,g,h,i,j,k,e)}function Zd(a,b){var c=_d(b,1),d=Math.floor(a.left*c/i),e=Math.floor(a.right*c/i),f=Math.floor(a.top*c/i),g=Math.floor(a.bottom*c/i);d<0&&(d=0),e>fb[W]-1&&(e=fb[W]-1),f<0&&(f=0),g>gb[W]-1&&(g=gb[W]-1),this.left=d,this.right=e,this.top=f,this.bottom=g}function $d(a,b,c,d,e,f,g){this.left=a+c/g,this.right=a+d/g,this.top=b+e/g,this.bottom=b+f/g}function _d(a,b){var c=b*(db[a]/Z.imageW);return c}function ae(a,b){var c=b/(db[a]/Z.imageW);return c}function be(a,b){var c=a-Z.Utils.getElementPosition(Z.ViewerDisplay).x,d=b-Z.Utils.getElementPosition(Z.ViewerDisplay).y;return new Z.Utils.Point(c,d)}function ce(a,b){var c=parseFloat(q.left)+Gb,d=parseFloat(q.top)+Hb,e=a-c,f=b-d,g=e/Z.imageZ,h=f/Z.imageZ,i=Z.imageX+g,j=Z.imageY+h;return new Z.Utils.Point(i,j)}function de(a,b,c){var d=Z.imageX-a,e=Z.imageY-b,f=d*c,g=e*c,h=Ib+f,i=Kb+g;return new Z.Utils.Point(h,i)}function ee(b,c){this.name=b,this.t=parseInt(b.substring(0,b.indexOf("-")),10),this.c=parseInt(b.substring(b.indexOf("-")+1,b.lastIndexOf("-")),10),this.r=parseInt(b.substring(b.lastIndexOf("-")+1),10),this.x=Math.floor(this.c*i),this.y=Math.floor(this.r*i),this.image=null,this.alpha=0,this.url=a.z279(this.t,this.c,this.r,c),this.loadTime=null,this.elmt=null,this.style=null}function fe(a,b,c){var d=0;for(var e=V-1;e>=a;e--)d+=hb[e];d+=c*fb[a]+b;var g=Math.floor(d/f);return g}function ge(a,b,c){ob[a]=c;var d=2,e=Z.imagePath.replace(".","%2E"),f=Z.tileHandlerPathFull+"?file="+e+"&requestType="+d+"&begin="+a+"&end="+b,g=new Z.NetConnector;g.loadXML(f)}function he(a){for(var b=0,c=pb.length;b<c;b++){var d=pb[b].split(",");d[0]==a&&(d[4]!=undefined&&d[4]!="backfill"?qb.push(d[1]+"-"+d[2]+"-"+d[3]):rb.push(d[1]+"-"+d[2]+"-"+d[3]),pb.splice(b,1),b--,c--)}qb.length>0&&(Rd(qb,me,0),Z.debug==2&&Z.Utils.trace("Tiles being requested - offset chunk now loaded: "+qb.join(", "))),rb.length>0&&Rd(rb,ke,0,"backfill")}function ie(a,b,c){a.url.substr(0,8)=="skipTile"?je(a):a.url!="offsetLoading"&&(a.loadTime=b,a.loading=tb.loadImage(a.url,Z.Utils.createCallback(null,c,a),"tile"),Z.debug==2&&Z.Utils.trace("Tile actually requested: "+a.name)),Z.debug==2&&Z.Utils.trace("Tile not yet requested - offset chunk loading in progress: "+a.name)}function je(a){m>0&&(kb.push(a),lb.push(a.name));var b=jb.indexOf(a.name);b!=-1&&jb.splice(b,1),Z.tileSource=="ZoomifyImageFile"&&(b=qb.indexOf(a.name),b!=-1&&qb.splice(b,1)),ib.push(a)}function ke(a,b){if(a&&b){a.image=b;var c=a.name;bb.push(a);var d=cb.indexOf(c);d!=-1&&cb.splice(d,1),Z.tileSource=="ZoomifyImageFile"&&(d=rb.indexOf(c),d!=-1&&rb.splice(d,1)),a.alpha=1,a.t==X&&ne(s,X,a)}else b==null&&(Z.mobileDevice?console.log(Z.Utils.z285("z161")+a.name+".jpg"):Z.Utils.z405(Z.Utils.z285("z161")+a.name+".jpg"))}function le(a,b){if(a&&b){a.image=b;var c=a.name;ne(w,W,a)}else b==null&&(Z.mobileDevice?console.log(Z.Utils.z285("z161")+a.name+".jpg"):Z.Utils.z405(Z.Utils.z285("z161")+a.name+".jpg"))}function me(a,b){if(a&&b){a.image=b;var c=a.name;m>0&&(kb.push(a),lb.push(c));var d=jb.indexOf(c);d!=-1&&jb.splice(d,1),Z.tileSource=="ZoomifyImageFile"&&(d=qb.indexOf(c),d!=-1&&qb.splice(d,1)),ib.push(a),ic||(ic=window.setInterval(te,50)),Z.debug==2&&(Z.Utils.trace("Tile received: "+a.name),e==0&&Z.Utils.trace("Tile loading complete: all requested tiles received."));var e=jb.length;if(e==0){if(Z.useCanvas&&m>0)if(!Y)Pd(w,W,kb,"centerOut",!1,"4. Updating view: all new tiles loaded");else{Qd(W,kb),Pd(w,W,kb,"canvasCopy",!1,"4. Updating view: all new tiles loaded");var f=window.setTimeout(function(){Sd(A)},200);Y=!1}lb.length>m&&ue(),sb=0}Z.ToolbarDisplay&&Z.Toolbar.z284()&&Z.Toolbar.updateProgress(sb,e)}else b==null&&(Z.mobileDevice?console.log(Z.Utils.z285("z161")+a.name+".jpg"):Z.Utils.z405(Z.Utils.z285("z161")+a.name+".jpg"))}function ne(a,b,c){if(c.url.substr(0,8)!="skipTile"){var d=c.x,e=c.y,f=_d(b,1);if(Z.useCanvas){if(a==w||a==A)d-=Z.imageX*f,e-=Z.imageY*f;oe(a,c,d,e)}else{var g;a==w?(d-=Z.imageX*f-Gb/$,e-=Z.imageY*f-Hb/$,g=$):g=ab,pe(a,c,d,e,g)}}}function oe(a,b,c,d){var e=a.getContext("2d");Z.alphaSupported&&b.alpha<1&&a.id!="transitionDisplay"?(e.globalAlpha=b.alpha,e.drawImage(b.image,c,d),e.globalAlpha=1):e.drawImage(b.image,c,d),Z.debug==2&&qe(a,b.name,c,d,$)}function pe(a,b,c,d,e){b.elmt||(b.elmt=Z.Utils.z248("img"),b.elmt.onmousedown=Z.Utils.preventDefault,Z.Utils.addEventListener(b.elmt,"contextmenu",Z.Utils.preventDefault),b.elmt.src=b.url,b.style=b.elmt.style,b.style.position="absolute",Z.Utils.renderQuality(b,Z.renderQuality),Z.cssTransformsSupported&&(b.style[Z.cssTransformProperty+"Origin"]="0px 0px")),b.elmt.parentNode!=a&&a.appendChild(b.elmt);var f=b.style;f.display="none",Z.cssTransformsSupported?f[Z.cssTransformProperty]=["matrix(",(b.image.width/b.elmt.width*e).toFixed(8),",0,0,",(b.image.height/b.elmt.height*e).toFixed(8),",",(c*e).toFixed(8),Z.cssTransformNoUnits?",":"px,",(d*e).toFixed(8),Z.cssTransformNoUnits?")":"px)"].join(""):(f.width=b.image.width*e+"px",f.height=b.image.height*e+"px",f.left=c*e+"px",f.top=d*e+"px"),f.display="inline-block",Z.Utils.z398(b,b.alpha),Z.debug==2&&qe(a,b.name,c,d,e)}function qe(a,b,c,d,e){Z.useCanvas?re(a,b,c,d,e):se(a,b,c,d,e)}function re(a,b,c,d,e){var f=parseInt(Z.Utils.z285("z64"),10),g=parseInt(Z.Utils.z285("z82"),10),h=parseInt(Z.Utils.z285("z80"),10),j=Math.round(f*e),k=2*(j<g?g:j>h?h:j),l=a.getContext("2d");l.font=k+"px verdana",l.textAlign="left",l.textBaseline="top";var m=i*e/2;l.fillStyle="#ffffff",l.fillText(b,c+m,d+m),l.fillStyle="#000000",l.fillText(b,c+m+1,d+m+1)}function se(a,b,c,d,e){var f=parseInt(Z.Utils.z285("z64"),10),g=parseInt(Z.Utils.z285("z82"),10),h=parseInt(Z.Utils.z285("z80"),10),j=Math.round(f*e),k=2*(j<g?g:j>h?h:j),l=parseInt(Z.Utils.z285("z65"),10)*e,m=Z.Utils.z248("div","tileNameTextBox","inline-block","absolute","hidden","auto","auto","1px","1px","none","0px","transparent none","0px",l+"px","nowrap"),n=document.createTextNode(b);m.appendChild(n),a.appendChild(m),Z.Utils.z401(n,"white","verdana",k+"px","none","normal","normal","normal","normal","1em","center","none");var o=Z.Utils.z248("div","tileNameTextBox2","inline-block","absolute","hidden","auto","auto","1px","1px","none","0px","transparent none","0px",l+"px","nowrap"),p=document.createTextNode(b);o.appendChild(p),a.appendChild(o),Z.Utils.z401(p,"black","verdana",k+"px","none","normal","normal","normal","normal","1em","center","none");var l=parseFloat(m.style.padding),q=parseFloat(Z.Utils.getElementStyleProperty(m,"width"));if(isNaN(q)){var r=parseFloat(Z.Utils.z285("z56")),s=parseFloat(m.style.fontSize)/r;q=Math.round(parseFloat(b.length*s))}var t=i*e/2,u=i*e/2;m.style.left=c*e+(t-q/2-l)+"px",m.style.top=d*e+u+"px",o.style.left=1+c*e+(t-q/2-l)+"px",o.style.top=1+d*e+u+"px",Z.Utils.addEventListener(m,"contextmenu",Z.Utils.preventDefault),Z.Utils.z260(n),Z.Utils.addEventListener(o,"contextmenu",Z.Utils.preventDefault),Z.Utils.z260(p)}function te(a){var b=0;for(var c=0,d=ib.length;c<d;c++){var e=ib[c];e.t==W&&(e.alpha<1?(hc==0?e.alpha=1:e.alpha+=hc,e.alpha>1&&(e.alpha=1),ne(w,W,e)):(b++,b>=d&&(window.clearInterval(ic),ic=null),Z.debug==2&&Z.Utils.trace("Fading-in tile complete: "+e.name)))}}function ue(){while(lb.length>m&&kb.length>0)j=lb.indexOf(kb[0].name),j!=-1&&lb.splice(j,1),kb.splice(0,1)}function ve(){return Z.imageW/Z.imageH>Ab/Bb?Ab/Z.imageW:Bb/Z.imageH}function we(a,b,c){if(Z.constrainPan){c===null&&(c=Z.imageZ);var d=new $d(a,b,-(Ab/2),Ab/2,-(Bb/2),Bb/2,c),e=d.left,f=d.right,g=d.top,h=d.bottom;Z.imageW*c>Ab?e<0?a=Ab/2/c:f>Z.imageW&&(a=Z.imageW-Ab/2/c):a=Z.imageW/2,Z.imageH*c>Bb?g<0?b=Bb/2/c:h>Z.imageH&&(b=Z.imageH-Bb/2/c):b=Z.imageH/2}return new Z.Utils.Point(a,b)}function xe(b,c){if(Z.constrainPan){var d=a.getZoom(),e=Z.imageX,f=Z.imageY,g=new $d(e,f,-(Ab/2),Ab/2,-(Bb/2),Bb/2,d),h=g.left,i=g.right,j=g.top,k=g.bottom;Z.imageW*d>Ab?h<0?b+=h*d:i>Z.imageW&&(b-=(Z.imageW-i)*d):b+=(e-Z.imageW/2)*d,Z.imageH*d>Bb?j<0?c+=j*d:k>Z.imageH&&(c-=(Z.imageH-k)*d):c+=(f-Z.imageH/2)*d}return new Z.Utils.Point(b,c)}function ye(b,c){if(Z.constrainPan){var d=a.getZoom(),e=Z.imageX-(b-Ib)/d,f=Z.imageY-(c-Kb)/d,g=new $d(e,f,-(Ab/2),Ab/2,-(Bb/2),Bb/2,d),h=g.left,i=g.right,j=g.top,k=g.bottom;Z.imageW*d>Ab?h<0?b+=h*d:i>Z.imageW&&(b-=(Z.imageW-i)*d):b+=(e-Z.imageW/2)*d,Z.imageH*d>Bb?j<0?c+=j*d:k>Z.imageH&&(c-=(Z.imageH-k)*d):c+=(f-Z.imageH/2)*d}return new Z.Utils.Point(b,c)}function ze(a){return a>Z.maxZ?a=Z.maxZ:a<Z.minZ&&(a=Z.minZ),a}function Ae(){wc=new Image,xc=parseFloat(Z.Utils.z285("z128")),wc.url=Z.watermarkPath,wc.onload=Be,wc.onerror=Fe,wc.src=Z.watermarkPath}function Be(){if(E){var b=parseFloat(Z.Utils.z285("z129")),c=parseFloat(Z.Utils.z285("z131")),d=parseFloat(Z.Utils.z285("z130")),e=a.getZoom(),f=(Z.imageW*e-E.width)/2,g=(Z.imageH*e-E.height)/2,h=(Z.imageW/2-Z.imageX)*e,i=(Z.imageH/2-Z.imageY)*e,j=e<b?b:e,k=Math.round(Z.imageW/c),l=Math.round(Z.imageH/d),m=Yd(),n=wc.width*j,o=wc.height*j,p=0,q=0;for(var r=1;r<=k;r++)for(var s=1;s<=l;s++){var t=Math.round(Z.imageW/(k+1)*r),u=Math.round(Z.imageH/(l+1)*s);if(t>m.left&&t<m.right&&u>m.top&&u<m.bottom){var v=Math.round(t*e-n/2-f+h),w=Math.round(u*e-o/2-g+i);if(Z.imageW>4e3){var x=p+100,y=q+100;if(v<x&&w<y)continue;p=v,q=w}Ce(n,o,v,w)}}}}function Ce(a,b,c,d){De(a,b,c,d)}function De(a,b,c,d){var e=wc.cloneNode(!1);Z.Utils.z398(e,xc),e.width=a,e.height=b;var f=Z.Utils.z248("div","wiC","inline-block","absolute","hidden",a+"px",b+"px",c+"px",d+"px","none","0px","transparent none","0px","0px","normal");f.appendChild(e),E.appendChild(f),Z.Utils.addEventListener(e,"contextmenu",Z.Utils.preventDefault),Z.Utils.addEventListener(e,"mousedown",Z.Utils.preventDefault)}function Ee(){E&&(Sd(E),Be())}function Fe(){Z.Utils.z405(Z.Utils.z285("z166")+this.url)}function Ge(){var a;Z.Utils.isStrVal(Z.hotspotPath)?a=Z.Utils.z215(Z.hotspotPath+"/"+Z.Utils.z285("z71")):Z.Utils.isStrVal(Z.annotationPath)&&(a=Z.Utils.z215(Z.annotationPath+"/"+Z.Utils.z285("z34")));var b=new Z.NetConnector;b.loadXML(a)}function He(a){this.id=a.getAttribute("ID"),this.internalID=parseInt(a.getAttribute("INTERNALID")),this.name=a.getAttribute("NAME"),this.mediaType=a.getAttribute("MEDIATYPE"),this.media=a.getAttribute("MEDIA"),this.image=null,this.iW=null,this.iH=null;var b=parseFloat(a.getAttribute("X"));this.x=isNaN(b)?0:b;var c=parseFloat(a.getAttribute("Y"));this.y=isNaN(c)?0:c;var d=parseFloat(a.getAttribute("ZOOM"));this.zoom=isNaN(d)?-1:d;var e=parseFloat(a.getAttribute("XSCALE"));this.xScale=isNaN(e)?100:e;var f=parseFloat(a.getAttribute("YSCALE"));this.yScale=isNaN(f)?100:f,this.url=a.getAttribute("URL"),this.urlTarget=a.getAttribute("URLTARGET");var g=a.getAttribute("ROLLOVER");this.rollover=g=="1"||g=="true",this.caption=a.getAttribute("CAPTION"),this.tooltip=a.getAttribute("TOOLTIP"),this.textColor="#"+a.getAttribute("TEXTCOLOR"),this.backColor="#"+a.getAttribute("BACKCOLOR"),this.lineColor="#"+a.getAttribute("LINECOLOR"),this.fillColor="#"+a.getAttribute("FILLCOLOR"),this.textVisible=a.getAttribute("TEXTVISIBLE")!="0",this.backVisible=a.getAttribute("BACKVISIBLE")!="0",this.lineVisible=a.getAttribute("LINEVISIBLE")!="0",this.fillVisible=a.getAttribute("FILLVISIBLE")!="0";var h=a.getAttribute("CAPTIONPOSITION");this.captionPosition=Z.Utils.isStrVal(h)?h:"8",this.saved=!0,this.visibility=!0,this.polygonPts=null;if(a.getAttribute("MEDIA")=="polygon"){var i=a.getElementsByTagName("POLYGON"),j=i[0].getElementsByTagName("POINT"),k=[];for(var l=0,m=j.length;l<m;l++)k.push({x:j[l].getAttribute("X"),y:j[l].getAttribute("Y")});this.polygonPts=k}var n=1,o=2,p=a.getAttribute("MEDIATYPE");this.mediaType=p=="symbol"?n:o}function Ie(a){var b=(new Date).getTime();for(var c=0,d=a.length;c<d;c++)Je(a[c],b)}function Je(a,b){var c=Ic.loadImage(a,Z.Utils.createCallback(null,Ke,a,b),"hotspot")}function Ke(a,b,c){if(a&&b&&c){var d=new Se;for(var e=0,f=Ac.length;e<f;e++)if(Ac[e].media==a){Bc.push(c.cloneNode(!1)),Ac[e].image=c.cloneNode(!1),Ac[e].iW=c.width,Ac[e].iH=c.height;var g=Ac[e].x,h=Ac[e].y;g>d.bounds.left&&g<d.bounds.right&&h>d.bounds.top&&h<d.bounds.bottom&&Oe(Ac[e],d)}}else Z.Utils.z405(Z.Utils.z285("z142"))}function Le(){H&&(Sd(H),O&&Sd(O),S&&Sd(S),Ne())}function Me(){var a=new Se;for(var b=0,c=Ac.length;b<c;b++)if(Ac[b].media==""||Ac[b].media=="polygon"){var d=Ac[b].x,e=Ac[b].y;d>a.bounds.left&&d<a.bounds.right&&e>a.bounds.top&&e<a.bounds.bottom&&Oe(Ac[b],a)}}function Ne(){var a=new Se;for(var b=0,c=Ac.length;b<c;b++){var d=Ac[b].x,e=Ac[b].y;d>a.bounds.left&&d<a.bounds.right&&e>a.bounds.top&&e<a.bounds.bottom&&Oe(Ac[b],a)}if(H.childNodes.length==0){var f=Z.Utils.z248("div","hotspotImmortal","inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal");H.appendChild(f)}}function Oe(a,b){a.media=="polygon"&&tf(a,b),Pe(a,b)}function Pe(a,b){if(!Z.Utils.isStrVal(a.media)&&!Z.Utils.isStrVal(a.caption)||(a.iW==null||a.iH==null)&&a.media!="polygon"&&(O||!Z.Utils.isStrVal(a.caption)))return;var c=Ac.indexOfObjectValue("internalID",a.internalID);c!=-1&&Qe(Ac[c]);if(Z.useCanvas&&a.media=="polygon"){var d=a.polygonPts,e=Z.Utils.getDimensionsFromPolygonPoints(a.polygonPts);a.iW=e.x,a.iH=e.y}if((a.iW===null||a.iH==null)&&a.media!="polygon"&&a.media!="")return;var f=a.iW*b.constrainedScale*(a.xScale/100/(a.zoom/100)),g=a.iH*b.constrainedScale*(a.yScale/100/(a.zoom/100)),h;a.image&&(h=a.image,h.align="top",h.width=f,h.height=g);var i=Math.round(a.x*b.currentZ-f/2-b.displayOffsetL+b.imageOffsetL),j=Math.round(a.y*b.currentZ-g/2-b.displayOffsetT+b.imageOffsetT),k;Z.Utils.isStrVal(a.caption)&&(k=Te(a,b));var l=Z.Utils.z248("div","hCloak","inline-block","absolute","visible"),m="hot"+a.internalID.toString(),n=Z.Utils.z248("div",m,"inline-block","absolute","visible",f+"px",g+"px",i+"px",j+"px","none","0px","transparent none","0px","0px","normal");Z.Utils.isStrVal(a.tooltip)&&(n.title=unescape(a.tooltip));if(Z.Utils.isStrVal(a.url)){if(h){var o=document.createElement("a");o.setAttribute("href",a.url),o.setAttribute("target",a.urlTarget),o.setAttribute("outline","none"),o.appendChild(h),h.style.cursor="help",h.style.border="none"}if(k){var p=document.createElement("a");p.setAttribute("href",a.url),p.setAttribute("target",a.urlTarget),p.setAttribute("outline","none"),p.appendChild(k),k.style.cursor="help"}l.style.border="none"}Z.Utils.isStrVal(a.url)?(o&&l.appendChild(o),p&&l.appendChild(p)):(h&&l.appendChild(h),k&&l.appendChild(k)),n.appendChild(l),H.appendChild(n),a.rollover&&(l.rollover=a.rollover),Xe(n,!a.rollover&&a.visibility);if(k){var q=Ue(k,a.captionPosition,f,g);k.style.left=q.x+"px",k.style.top=q.y+"px"}a.rollover&&(Z.Utils.addEventListener(n,"mouseover",gf),Z.Utils.addEventListener(n,"mouseout",hf)),Z.Utils.addEventListener(n,"mousedown",Z.Utils.preventDefault),Z.Utils.addEventListener(n,"contextmenu",Z.Utils.preventDefault)}function Qe(a){var b=document.getElementById("hot"+a.internalID);b!==null&&b.parentNode.removeChild(b)}function Re(a){var b=0,c=[];switch(a){case"poi":for(var d=0,e=hd.length;d<e;d++)c.push(hd[d].value);break;case"note":for(var d=0,e=notesListDP.length;d<e;d++)c.push(notesListDP[d].value);break;case"label":for(var d=0,e=id.length;d<e;d++)c.push(id[d].value);break;case"labelExternal":for(var d=0,e=Ac.length;d<e;d++)c.push(Ac[d].id);break;case"hotspot":for(var d=0,e=Ac.length;d<e;d++)c.push(Ac[d].internalID)}c.sort();for(var d=0,e=c.length;d<e;d++)c[d]!=b?d=e:b++;return b}function Se(){this.bounds=Yd(),this.currentZ=a.getZoom(),this.constrainedScale=this.currentZ<Yc?Yc:this.currentZ>Zc?Zc:this.currentZ,this.displayOffsetL=(Z.imageW*this.currentZ-H.width)/2,this.displayOffsetT=(Z.imageH*this.currentZ-H.height)/2,this.imageOffsetL=(Z.imageW/2-Z.imageX)*this.currentZ,this.imageOffsetT=(Z.imageH/2-Z.imageY)*this.currentZ}function Te(a,b){var c=b.constrainedScale*(a.xScale/100/(a.zoom/100)),d=Math.round(Pc*c),e=d<Qc?Qc:d>Rc?Rc:d,f=Sc*c,g=f<Tc?Tc:f>Uc?Uc:f,h=Z.Utils.z248("div","captionTextBox","inline-block","absolute","hidden","auto","auto","1px","1px","solid","1px","white","0px",g+"px","nowrap"),i=document.createTextNode(unescape(a.caption));return h.appendChild(i),Z.Utils.z401(i,"black","verdana",e+"px","none","normal","normal","normal","normal","1em","center","none"),Z.Utils.addEventListener(h,"contextmenu",Z.Utils.preventDefault),Z.Utils.z260(i),h}function Ue(b,c,d,e){var f=parseFloat(b.style.padding),g=parseFloat(Z.Utils.getElementStyleProperty(b,"width"));if(isNaN(g)){var h=parseFloat(Z.Utils.z285("z56")),i=parseFloat(b.style.fontSize)/h;g=Math.round(parseFloat(b.firstChild.length*i))}var j=a.getZoom(),k=20*j,l,m;switch(c){case"1":l=-g-f,m=-k-f;break;case"2":l=(d-g)/2-f,m=-k-f;break;case"3":l=d+f,m=-k-f;break;case"4":l=-g-f,m=(e-k)/2;break;case"5":l=(d-g)/2-f,m=(e-k)/2;break;case"6":l=d+f,m=(e-k)/2;break;case"7":l=-g-f,m=e+f;break;case"8":l=(d-g)/2-f,m=e+f;break;case"9":l=d+f,m=e+f}return new Z.Utils.Point(l,m)}function Ve(a,b){var c=parseInt(Z.Utils.z285("z69"),10),d=Ye(Wc,c,Ab,Bb),e=Wc=="0"?"hidden":"visible",f=document.getElementById("hotspotList");f&&Z.ViewerDisplay.removeChild(f),Vc=new Z.Utils.z253("hotspotList",a,b,c,d.x,d.y,e,of),J=Vc,K=J.style,Z.ViewerDisplay.appendChild(Vc)}function We(a,b){var c=document.getElementById("hotspotList");c!=null&&(c.options[c.options.length]=new Option(a,b))}function Xe(a,b){var c=a.childNodes[0];if(c&&c.style){c.style.visibility="visible";var d=b?"visible":"hidden",e=b?"":"#ffffff",f=b?1:.01;if(Z.browser!=Z.browsers.IE)c.style.visibility=d;else{c.style.backgroundColor=e,Z.Utils.z398(c,f);var g=a.childNodes[0].childNodes[1];g&&g.style&&(g.style.visibility=d)}var h=Ac.indexOfObjectValue("internalID",a.internalID);h!=-1&&(Ac[h].visibility=b)}}function Ye(a,b,c,d){var e,f,g=25;switch(a){case"0":e=0,f=0;break;case"1":e=g,f=g;break;case"2":e=c-b-g,f=20;break;case"3":e=c-b-g,toolbar!=null?f=d-g:f=d-g;break;case"4":e=g,toolbar!=null?f=d-g:f=d-g;break;default:e=c-b,f=g}return new Z.Utils.Point(e,f)}function Ze(a){return Z.Utils.isStrVal(a.media)||Z.Utils.isStrVal(a.caption)}function $e(a){var b="[Hotspot ";return b+="id:"+a.id+", ",b+="internalID:"+a.internalID.toString()+", ",b+="name:"+a.name+", ",b+="mediaType:"+a.mediaType+", ",b+="media:"+a.media+", ",b+="x:"+a.x.toString()+", ",b+="y:"+a.y.toString()+", ",b+="zoom:"+a.zoom.toString()+", ",b+="xScale:"+a.xScale.toString()+", ",b+="yScale:"+a.yScale.toString()+", ",b+="url:"+a.url+", ",b+="urlTarget:"+a.urlTarget+", ",b+="rollover:"+a.rollover+", ",b+="caption:"+a.caption+", ",b+="tooltip:"+a.tooltip,b+="]",b}function _e(a){var b,c,d=Z.imageW/2,e=Z.imageH/2,f="<ZAS></ZAS>",g=Z.Utils.z241(f),h=g.getElementsByTagName("ZAS")[0],i=g.createElement("LABELSETUP");i.setAttribute("PANELPOSITION","2"),i.setAttribute("INITIALVISIBILITY","1"),i.setAttribute("NOTEVISIBILITY","1"),i.setAttribute("MINSCALE","1"),i.setAttribute("MAXSCALE","1"),h.appendChild(i);var j=a.getElementsByTagName("LABELSETUP")[0];b=j.getAttribute("PANELPOSITION"),Z.Utils.isStrVal(b)&&i.setAttribute("PANELPOSITION",b);var k=j.getAttribute("INITIALVISIBILITY");if(Z.Utils.isStrVal(k)){var l=Z.Utils.z285("z70");l?initVis=k!="0"&&k!="hide"?"1":"0":initVis=k!="1"&&k!="show"?"0":"1",i.setAttribute("INITIALVISIBILITY",initVis)}var k=j.getAttribute("NOTEVISIBILITY");if(Z.Utils.isStrVal(k)){var l=Z.Utils.z285("DEFAULT_ANNOTATIONNOTEVISIBILITY");l?initVis=k!="0"&&k!="hide"?"1":"0":initVis=k!="1"&&k!="show"?"0":"1",i.setAttribute("NOTEVISIBILITY",initVis)}b=j.getAttribute("MINSCALE"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&parseFloat(b)>0&&i.setAttribute("MINSCALE",b),b=j.getAttribute("MAXSCALE"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&parseFloat(b)>0&&i.setAttribute("MAXSCALE",b);var m=a.getElementsByTagName("POI");for(var n=0,o=m.length;n<o;n++){var p=g.createElement("POI");p.setAttribute("ID","0"),p.setAttribute("NAME",Z.Utils.z285("z16")),p.setAttribute("X","center"),p.setAttribute("Y","center"),p.setAttribute("ZOOM","-1"),p.setAttribute("USER",Z.Utils.z285("z17")),p.setAttribute("DATE",Z.Utils.z282()),h.appendChild(p);var q=a.getElementsByTagName("POI")[n];b=q.getAttribute("ID"),Z.Utils.isStrVal(b)&&p.setAttribute("ID",b),b=q.getAttribute("NAME"),Z.Utils.isStrVal(b)&&p.setAttribute("NAME",b),b=q.getAttribute("X"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&p.setAttribute("X",b=="center"?d.toString():b),b=q.getAttribute("Y"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&p.setAttribute("Y",b=="center"?e.toString():b),b=q.getAttribute("ZOOM"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&p.setAttribute("ZOOM",b),b=q.getAttribute("USER"),Z.Utils.isStrVal(b)&&p.setAttribute("USER",b),b=q.getAttribute("DATE"),Z.Utils.isStrVal(b)&&p.setAttribute("DATE",b),h.appendChild(p),p=h.getElementsByTagName("POI")[n];var r=m[n].getElementsByTagName("NOTES")[0];if(r){var s=g.createElement("NOTES");p.appendChild(s);var t=r.getElementsByTagName("NOTE");for(var u=0,v=t.length;u<v;u++){var w=g.createElement("NOTE");w.setAttribute("ID","0"),w.setAttribute("NAME",Z.Utils.z285("z13")),w.setAttribute("TEXT",Z.Utils.z285("z14")),w.setAttribute("USER",Z.Utils.z285("z15")),w.setAttribute("DATE",Z.Utils.z282()),s.appendChild(w);var x=r.getElementsByTagName("NOTE")[u];b=x.getAttribute("ID"),Z.Utils.isStrVal(b)&&w.setAttribute("ID",b),b=x.getAttribute("NAME"),Z.Utils.isStrVal(b)&&w.setAttribute("NAME",b),b=x.getAttribute("TEXT"),Z.Utils.isStrVal(b)&&w.setAttribute("TEXT",b),b=x.getAttribute("USER"),Z.Utils.isStrVal(b)&&w.setAttribute("USER",b),b=x.getAttribute("DATE"),Z.Utils.isStrVal(b)&&w.setAttribute("DATE",b),s.appendChild(w)}}var y=m[n].getElementsByTagName("LABELS")[0];if(y){var z=g.createElement("LABELS");p.appendChild(z);var A=y.getElementsByTagName("LABEL");for(var B=0,C=A.length;B<C;B++){var D=g.createElement("LABEL");D.setAttribute("INTERNALID","0"),D.setAttribute("ID","0"),D.setAttribute("NAME",Z.Utils.z285("z11")),D.setAttribute("MEDIATYPE","url"),D.setAttribute("MEDIA","circle"),D.setAttribute("X","center"),D.setAttribute("Y","center"),D.setAttribute("ZOOM","100"),D.setAttribute("XSCALE","100"),D.setAttribute("YSCALE","100"),D.setAttribute("URL",""),D.setAttribute("URLTARGET","_blank"),D.setAttribute("ROLLOVER","0"),D.setAttribute("CAPTION",""),D.setAttribute("TOOLTIP",""),D.setAttribute("USER",Z.Utils.z285("z12")),D.setAttribute("DATE",Z.Utils.z282()),D.setAttribute("TOOLTIP",""),D.setAttribute("TEXTCOLOR",Z.Utils.z285("CONTENT_ANNOTATIONSCAPTIONTEXTCOLOR")),D.setAttribute("BACKCOLOR",Z.Utils.z285("CONTENT_ANNOTATIONSCAPTIONBACKCOLOR")),D.setAttribute("BACKVISIBLE",Z.Utils.z285("CONTENT_ANNOTATIONSCAPTIONBACKVISIBLE")),D.setAttribute("LINECOLOR",Z.Utils.z285("CONTENT_POLYGONLINECOLOR")),D.setAttribute("FILLCOLOR",Z.Utils.z285("CONTENT_POLYGONFILLCOLOR")),D.setAttribute("LINEVISIBLE",Z.Utils.z285("CONTENT_POLYGONLINEVISIBLE")),D.setAttribute("FILLVISIBLE",Z.Utils.z285("CONTENT_POLYGONFILLVISIBLE")),D.setAttribute("CAPTIONPOSITION",Z.Utils.z285("CONTENT_ANNOTATIONSCAPTIONPOSITION")),z.appendChild(D);var E=y.getElementsByTagName("LABEL")[B];b=E.getAttribute("ID"),Z.Utils.isStrVal(b)&&D.setAttribute("ID",b),b=E.getAttribute("NAME"),Z.Utils.isStrVal(b)&&D.setAttribute("NAME",b),b=E.getAttribute("MEDIATYPE"),Z.Utils.isStrVal(b)&&D.setAttribute("MEDIATYPE",b),b=E.getAttribute("MEDIA"),Z.Utils.isStrVal(b)&&D.setAttribute("MEDIA",b),b=E.getAttribute("X"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&D.setAttribute("X",b=="center"?d.toString():b),b=E.getAttribute("Y"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&D.setAttribute("Y",b=="center"?e.toString():b),b=E.getAttribute("ZOOM"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&D.setAttribute("ZOOM",b),b=E.getAttribute("XSCALE"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&D.setAttribute("XSCALE",b),b=E.getAttribute("YSCALE"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&D.setAttribute("YSCALE",b),b=E.getAttribute("URL"),Z.Utils.isStrVal(b)&&D.setAttribute("URL",b),b=E.getAttribute("URLTARGET"),Z.Utils.isStrVal(b)&&D.setAttribute("URLTARGET",b),b=E.getAttribute("ROLLOVER"),Z.Utils.isStrVal(b)&&D.setAttribute("ROLLOVER",b),b=E.getAttribute("CAPTION"),Z.Utils.isStrVal(b)&&D.setAttribute("CAPTION",b),b=E.getAttribute("TOOLTIP"),Z.Utils.isStrVal(b)&&D.setAttribute("TOOLTIP",b),b=E.getAttribute("USER"),Z.Utils.isStrVal(b)&&D.setAttribute("USER",b),b=E.getAttribute("DATE"),Z.Utils.isStrVal(b)&&D.setAttribute("DATE",b),b=E.getAttribute("TEXTCOLOR"),Z.Utils.isStrVal(b)&&D.setAttribute("TEXTCOLOR",b),b=E.getAttribute("BACKCOLOR"),Z.Utils.isStrVal(b)&&D.setAttribute("BACKCOLOR",b),b=E.getAttribute("LINECOLOR"),Z.Utils.isStrVal(b)&&D.setAttribute("LINECOLOR",b),b=E.getAttribute("FILLCOLOR"),Z.Utils.isStrVal(b)&&D.setAttribute("FILLCOLOR",b),b=E.getAttribute("TEXTVISIBLE"),Z.Utils.isStrVal(b)&&D.setAttribute("TEXTVISIBLE",b),b=E.getAttribute("BACKVISIBLE"),Z.Utils.isStrVal(b)&&D.setAttribute("BACKVISIBLE",b),b=E.getAttribute("LINEVISIBLE"),Z.Utils.isStrVal(b)&&D.setAttribute("LINEVISIBLE",b),b=E.getAttribute("FILLVISIBLE"),Z.Utils.isStrVal(b)&&D.setAttribute("FILLVISIBLE",b),b=E.getAttribute("CAPTIONPOSITION"),Z.Utils.isStrVal(b)&&D.setAttribute("CAPTIONPOSITION",b),c=E.getElementsByTagName("CAPTION")[0],c!=undefined&&D.appendChild(c),c=E.getElementsByTagName("TOOLTIP")[0],c!=undefined&&D.appendChild(c),c=E.getElementsByTagName("POLYGON")[0],c!=undefined&&D.appendChild(c),z.appendChild(D)}}}return g}function af(){id.sort(bf),jd.sort(bf)}function bf(a,b){var c=a.text.toLowerCase(),d=b.text.toLowerCase(),e=0;return c<d?e=-1:c>d&&(e=1),e}function cf(){var a=9,b=9,c=51,d=12,e=25,f=40,g=20,h=5,i=parseInt(Z.Utils.z285("z29"),10),j=parseInt(Z.Utils.z285("z27"),10);dd||(j-=131);var k=parseInt(Z.Utils.z285("z19"),10),l=parseInt(Z.Utils.z285("z23"),10),m=parseInt(Z.Utils.z285("z21"),10),n=df(ad,i,j,Ab,Bb),o=ad=="0"?"hidden":"visible",p=document.getElementById("poiList");p&&Z.AnnotationPanelDisplay.removeChild(p);var q=document.getElementById("labelList");q&&Z.AnnotationPanelDisplay.removeChild(q);var r=document.getElementById("noteList");r&&Z.AnnotationPanelDisplay.removeChild(r),Z.AnnotationPanelDisplay||(Z.AnnotationPanelDisplay=Z.Utils.z248("div","AnnotationPanelDisplay","inline-block","absolute","hidden",i+"px",j+"px",n.x+"px",n.y+"px","solid","1px","transparent none","0px","0px","normal","default"),L=Z.AnnotationPanelDisplay,M=L.style);var s=parseFloat(Z.Utils.z285("z24")),t=Z.Utils.z285("z25"),u=Z.Utils.z285("z25NOALPHA"),v=Z.Utils.z248("div","annotationPanelBackground","inline-block","absolute","hidden",i+"px",j+"px","0px","0px","none","0px",t,"0px","0px","normal");Z.Utils.z398(v,s,u);var w=parseInt(Z.Utils.z285("z28"),10),x=Z.Utils.z248("div","labelPOITextBox","inline-block","absolute","hidden",f+"px",g+"px",a+"px",d+h+"px","none","0px","transparent none","0px","0px","nowrap"),y=document.createTextNode(Z.Utils.z285("z199"));x.appendChild(y),Z.Utils.z401(y,"black","verdana",w+"px","none","normal","normal","normal","normal","1em","left","none");var z=Z.Utils.z248("div","labelLabelTextBox","inline-block","absolute","hidden",f+"px",g+"px",a+"px",d+e+h+"px","none","0px","transparent none","0px","0px","nowrap"),A=document.createTextNode(Z.Utils.z285("z197"));z.appendChild(A),Z.Utils.z401(A,"black","verdana",w+"px","none","normal","normal","normal","normal","1em","left","none");var B=Z.Utils.z248("div","labelNoteTextBox","inline-block","absolute","hidden",f+"px",g+"px",a+"px",d+e*2+h+"px","none","0px","transparent none","0px","0px","nowrap"),C=document.createTextNode(Z.Utils.z285("z198"));B.appendChild(C),Z.Utils.z401(C,"black","verdana",w+"px","none","normal","normal","normal","normal","1em","left","none");var D=Z.Utils.z285("z9"),E=[{text:D,value:"0"}];bd=new Z.Utils.z253("poiList","",E,k,c,d,o,pf),ed=new Z.Utils.z253("labelList","",E,k,c,d+e,o,qf);if(dd){cd=new Z.Utils.z253("noteList","",E,k,c,d+e*2,o,rf);var F=Z.Utils.z285("z10"),G=parseInt(Z.Utils.z285("z22"),10),H=parseInt(Z.Utils.z285("z20"),10),I=Z.Utils.z254("noteTextArea",F,l+"px",m+"px",b+"px",d+e*3+3+"px",G+"px","solid","1px","auto",!0,"verdana",H+"px","none")}Z.AnnotationPanelDisplay.appendChild(v),Z.AnnotationPanelDisplay.appendChild(x),Z.AnnotationPanelDisplay.appendChild(z),Z.AnnotationPanelDisplay.appendChild(bd),Z.AnnotationPanelDisplay.appendChild(ed),cd&&(Z.AnnotationPanelDisplay.appendChild(B),Z.AnnotationPanelDisplay.appendChild(cd),Z.AnnotationPanelDisplay.appendChild(I)),Z.ViewerDisplay.appendChild(Z.AnnotationPanelDisplay),Z.Utils.z428(bd,hd),pf()}function df(a,b,c,d,e){var f,g,h=15;switch(a){case"0":f=0,g=0;break;case"1":f=h,g=h;break;case"2":f=d-b-h,g=h;break;case"3":f=d-b-h,toolbar!=null?g=e-c-h:g=e-h;break;case"4":f=h,toolbar!=null?g=e-c-h:g=e-h;break;default:f=d-b-h,g=h}return new Z.Utils.Point(f,g)}function ef(a,b,c){id.push({text:a,value:b,poiID:c}),jd.push({text:a,value:b,poiID:c});var d=document.getElementById("labelList");Z.Utils.z428(d,jd),d.selectedIndex=d.length-1}function ff(a){var b=document.getElementById("labelList");if(b!=null){var c=id.indexOfObjectValue("value",a);c!=-1&&id.splice(c,1);var c=jd.indexOfObjectValue("value",a);if(c!=-1){jd.splice(c,1),Z.Utils.z428(b,jd);var d=b.length;d!=0&&(b.selectedIndex=c>d-1?d-1:c)}}}function gf(a){var a=Z.Utils.event(a);if(a){var b=Z.Utils.target(a);Z.browser!=Z.browsers.IE&&b&&Z.Utils.isStrVal(b.id)?Xe(b,!0):Z.browser==Z.browsers.IE&&(b.parentNode.parentNode&&b.parentNode.parentNode.id.indexOf("hot")!=-1?Xe(b.parentNode.parentNode,!0):b.parentNode.parentNode.parentNode&&b.parentNode.parentNode.parentNode.id.indexOf("hot")!=-1&&Xe(b.parentNode.parentNode.parentNode,!0))}}function hf(a){var a=Z.Utils.event(a);if(a){var b=Z.Utils.target(a),c=Z.Utils.relatedTarget(a);if(Z.browser!=Z.browsers.IE&&c&&Z.Utils.isStrVal(c.id)||Z.browser==Z.browsers.IE&&b.parentNode.parentNode.parentNode&&Z.Utils.isStrVal(b.parentNode.parentNode.parentNode.id))b.parentNode.parentNode&&b.parentNode.parentNode.id.indexOf("hot")!=-1?Xe(b.parentNode.parentNode,!1):b.parentNode.parentNode.parentNode&&b.parentNode.parentNode.parentNode.id.indexOf("hot")!=-1&&Xe(b.parentNode.parentNode.parentNode,!1)}}function jf(a){}function kf(a){}function lf(a){}function mf(a){}function nf(a){}function of(b){var c="0",b=Z.Utils.event(b);if(b)var d=Z.Utils.target(b),c=d.options[d.selectedIndex].value;if(Z.Utils.isStrVal(c)){var e=Ac.indexOfObjectValue("id",c);e!=-1&&a.zoomAndPanToView(Ac[e].x,Ac[e].y,Ac[e].zoom/100)}}function pf(b){var c="0",b=Z.Utils.event(b);if(b){var d=Z.Utils.target(b);c=d.options[d.selectedIndex].value}if(Z.Utils.isStrVal(c)){var e=hd.indexOfObjectValue("value",c);if(e!=-1){var f=Z.imageW/2,g=Z.imageH/2,h;h=hd[e].x;var i=h=="center"?f:parseFloat(h);h=hd[e].y;var j=h=="center"?g:parseFloat(h);h=hd[e].zoom;var k=h=="-1"?Z.fitZ:parseFloat(h);qd?a.zoomAndPanToView(i,j,k/100):(qd=!0,Le())}}jd=sf(id,c),Z.Utils.z428(ed,jd),cd&&(ld=sf(kd,c),Z.Utils.z428(cd,ld),rf()),Z.editMode&&(Cc=parseInt(ed.options[ed.selectedIndex].value))}function qf(b){var b=Z.Utils.event(b),c=Z.Utils.target(b),d=c.options[c.selectedIndex].value;if(d!==null){Cc=parseInt(d),Fc=!0;var e=Ac.indexOfObjectValue("internalID",Cc);if(e!=-1){var f=Z.imageW/2,g=Z.imageH/2,h;h=Ac[e].x;var i=h=="center"?f:parseFloat(h);h=Ac[e].y;var j=h=="center"?g:parseFloat(h);h=Ac[e].zoom;var k=h=="-1"?Z.fitZ:parseFloat(h);Z.z375?Le():a.zoomAndPanToView(i,j,k/100)}}}function rf(a){var b=document.getElementById("noteTextArea");b.value="";var c="0",a=Z.Utils.event(a);if(a){var d=Z.Utils.target(a);c=d.options[d.selectedIndex].value}else ld.length>0&&(c=ld[0].value);if(Z.Utils.isStrVal(c)){var e=ld.indexOfObjectValue("value",c);e!=-1&&(b.value=ld[e].noteText)}}function sf(a,b){var c=[];for(var d=0,e=a.length;d<e;d++)a[d].poiID==b&&c.push(a[d]);return c}function tf(a,b){if(Z.useCanvas){var c=a.internalID;!Z.z375||c!==Cc?targetCtx=Q:targetCtx=U,targetCtx.save(),targetCtx.translate((a.x-Z.imageX)*Z.imageZ,(a.y-Z.imageY)*Z.imageZ);var d=$/_,e=b.constrainedScale*(a.xScale/100/(a.zoom/100))/d,f=b.constrainedScale*(a.yScale/100/(a.zoom/100))/d;targetCtx.scale(e,f);var g=a.polygonPts,h=a.x,i=a.y;targetCtx.lineWidth=Jc;if(!a.fillVisible||!Fc)targetCtx.lineWidth*=3;targetCtx.strokeStyle=a.lineColor,targetCtx.fillStyle=a.fillColor,targetCtx.beginPath();var j=g[0].x-h,k=g[0].y-i;targetCtx.moveTo(j,k);for(var l=1,m=g.length;l<m;l++){var n=g[l].x-h,o=g[l].y-i;targetCtx.lineTo(n,o)}if(Fc||c!=Cc||Qb&&Gc==0)targetCtx.lineTo(j,k),targetCtx.closePath(),a.fillVisible&&(Fc||c!=Cc)&&(targetCtx.globalAlpha=.5,targetCtx.fill()),targetCtx.globalAlpha=1;targetCtx.stroke();var p=(e+f)/2;if(Z.z375&&a.internalID==Cc)for(var l=0,m=g.length;l<m;l++){var n=g[l].x-h,o=g[l].y-i;uf(n,o,!Fc&&l==0,p)}targetCtx.restore()}else Ec||(Z.Utils.z405(Z.Utils.z285("z3")),Ec=!0)}function uf(a,b,c,d){var e=Oc;d!==undefined&&d!==null&&(e/=d),U.lineWidth=Kc,U.strokeStyle=Lc,U.fillStyle=c?Mc:Nc,U.beginPath(),U.arc(a,b,e,0,Math.PI*2,!1),U.closePath(),U.globalAlpha=.5,U.fill(),U.globalAlpha=1,U.stroke()}function vf(a,b){Sd(S);var c=new Se,d=Ac.indexOfObjectValue("internalID",Cc);if(d!=-1){tf(Ac[d],c);var e=Z.imageX,f=Z.imageY,g=Z.imageZ,h=Ac[d].polygonPts,i=h[h.length-1],j=(i.x-e)*g,k=(i.y-f)*g;Fc||(U.lineWidth=Kc,U.strokeStyle=Lc,U.moveTo(j,k),U.lineTo(a,b),U.stroke())}}function wf(a){O&&Sd(O),S&&Sd(S);var b=new Se;for(var c=0,d=Ac.length;c<d;c++)if(Ac[c].media=="polygon"){var e=Ac[c].x,f=Ac[c].y;e>b.bounds.left&&e<b.bounds.right&&f>b.bounds.top&&f<b.bounds.bottom&&(a||!Z.z375||Cc===null||Cc!==c)&&tf(Ac[c],b)}}function xf(a,b,c){Hc=!0,Sd(S);var d=new Se,e=Ac.indexOfObjectValue("internalID",a);e!=-1&&(Ac[e].polygonPts[b]=c,tf(Ac[e],d))}function yf(a,b){if(Cc===null)zf(null,!0,b);else{var c=Ac.indexOfObjectValue("internalID",Cc);c!=-1&&(Dc=Ac[c].polygonPts,Dc===null?zf(Cc,!0,b):(Gc=Af(a,b),Fc?Gc===null&&zf(null,!0,b):Gc===null?zf(Cc,!1,b):Gc==0&&Ac[c].polygonPts.length>2&&Bf(Cc)))}}function zf(a,b,c){var d=!1,e=!1;if(a===null){var f=Re("label"),g=Re("labelExternal"),h="<LABEL ID='"+g.toString()+"' INTERNALID='"+f.toString()+"' NAME='Polygon "+f.toString()+"' MEDIATYPE='symbol' MEDIA='polygon' X='"+c.x.toString()+"' Y='"+c.y.toString()+"' ZOOM='"+"100"+"' XSCALE='100' YSCALE='100' URL='' URLTARGET='' ROLLOVER='0' CAPTION='' TOOLTIP='' LINECOLOR='ffffff' FILLCOLOR='999999' FILLVISIBLE='1' CAPTIONPOSITION='8' ><POLYGON><POINT X='"+c.x.toString()+"' Y='"+c.y.toString()+"' ></POINT></POLYGON></LABEL>",i=Z.Utils.z241(h),j=i.getElementsByTagName("LABEL"),k=new He(j[0]);poiCurrentID=bd.options[bd.selectedIndex].value,k.poiInternalID=poiCurrentID,k.saved=!1,Ac.push(k);var l=bd.options[bd.selectedIndex].value;Cc=f,ef(k.name,Cc,l),e=!0,d=!0}else{var m=Ac.indexOfObjectValue("internalID",a);if(m!=-1){var n=Ac[m].polygonPts;n.push({x:c.x,y:c.y}),Ac[m].polygonPts=n,Ac[m].saved=!1}}var o=(c.x-Z.imageX)*Z.imageZ,p=(c.y-Z.imageY)*Z.imageZ;uf(o,p,d),Fc=!1,e?Le():b&&wf()}function Af(a,b){var c=null,d=(Oc+1)/Z.imageZ;for(var e=0,f=Ac.length;e<f;e++)if(Ac[e].media=="polygon"&&Ac[e].internalID==Cc){var g=Ac[e].polygonPts;for(var h=0,i=g.length;h<i;h++)Z.Utils.calculatePointsDistance(b.x,b.y,g[h].x,g[h].y)<d&&(c=h)}return c}function Bf(a){Sd(S),Fc=!0;var b=Ac.indexOfObjectValue("internalID",a);if(b!=-1){var c=Z.Utils.getCenterOfPolygonPoints(Ac[b].polygonPts);Ac[b].x=c.x,Ac[b].y=c.y,Ac[b].caption="Polygon "+a.toString();var d=new Se;Oe(Ac[b],d)}}function Cf(a){var b,c,d=Z.imageW/2,e=Z.imageH/2,f="<ZAS></ZAS>",g=Z.Utils.z241(f),h=g.getElementsByTagName("ZAS")[0],i=g.createElement("LABELSETUP");i.setAttribute("PANELPOSITION","2"),i.setAttribute("INITIALVISIBILITY","1"),i.setAttribute("MINSCALE","1"),i.setAttribute("MAXSCALE","1");var j=a.getElementsByTagName("LABELSETUP")[0];b=j.getAttribute("PANELPOSITION"),Z.Utils.isStrVal(b)&&i.setAttribute("PANELPOSITION",b),b=j.getAttribute("INITIALVISIBILITY"),Z.Utils.isStrVal(b)&&i.setAttribute("INITIALVISIBILITY",b),b=j.getAttribute("MINSCALE"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&parseFloat(b)>0&&i.setAttribute("MINSCALE",b),b=j.getAttribute("MAXSCALE"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&parseFloat(b)>0&&i.setAttribute("MAXSCALE",b),h.appendChild(i);var k=a.getElementsByTagName("POI");for(var l=0,m=k.length;l<m;l++){var n=g.createElement("POI");n.setAttribute("ID","0"),n.setAttribute("NAME",Z.Utils.z285("z16")),n.setAttribute("X","center"),n.setAttribute("Y","center"),n.setAttribute("ZOOM","-1"),n.setAttribute("USER",Z.Utils.z285("z17")),n.setAttribute("DATE",Z.Utils.z282());var o=k[l];b=o.getAttribute("ID"),Z.Utils.isStrVal(b)&&n.setAttribute("ID",b),b=o.getAttribute("NAME"),Z.Utils.isStrVal(b)&&n.setAttribute("NAME",b),b=o.getAttribute("X"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&n.setAttribute("X",b=="center"?d.toString():b),b=o.getAttribute("Y"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&n.setAttribute("Y",b=="center"?e.toString():b),b=o.getAttribute("ZOOM"),Z.Utils.isStrVal(b)&&!isNaN(parseFloat(b))&&n.setAttribute("ZOOM",b),b=o.getAttribute("USER"),Z.Utils.isStrVal(b)&&n.setAttribute("USER",b),b=o.getAttribute("DATE"),Z.Utils.isStrVal(b)&&n.setAttribute("DATE",b),h.appendChild(n);var p=k[l].getElementsByTagName("NOTES")[0];if(typeof p!="undefined"){var q=g.createElement("NOTES");n.appendChild(q);var r=p.getElementsByTagName("NOTE");for(var s=0,t=r.length;s<t;s++){var u=g.createElement("NOTE");u.setAttribute("ID","0"),u.setAttribute("NAME",Z.Utils.z285("z13")),u.setAttribute("TEXT",Z.Utils.z285("z14")),u.setAttribute("USER",Z.Utils.z285("z15")),u.setAttribute("DATE",Z.Utils.z282());var v=r[s];b=v.getAttribute("ID"),Z.Utils.isStrVal(b)&&u.setAttribute("ID",b),b=v.getAttribute("NAME"),Z.Utils.isStrVal(b)&&u.setAttribute("NAME",b),b=v.getAttribute("TEXT"),Z.Utils.isStrVal(b)&&u.setAttribute("TEXT",b),b=v.getAttribute("USER"),Z.Utils.isStrVal(b)&&u.setAttribute("USER",b),b=v.getAttribute("DATE"),Z.Utils.isStrVal(b)&&u.setAttribute("DATE",b),q.appendChild(u)}}if(Ac.length>0){var w=g.createElement("LABELS");n.appendChild(w);for(var x=0,y=Ac.length;x<y;x++){var z=g.createElement("LABEL");z.setAttribute("ID",Ac[x].id),z.setAttribute("NAME",Ac[x].name),z.setAttribute("MEDIATYPE",Ac[x].mediaType),z.setAttribute("MEDIA",Ac[x].media),z.setAttribute("X",Ac[x].x),z.setAttribute("Y",Ac[x].y),z.setAttribute("ZOOM",Ac[x].zoom),z.setAttribute("XSCALE",Ac[x].xScale),z.setAttribute("YSCALE",Ac[x].yScale),z.setAttribute("URL",Ac[x].url),z.setAttribute("URLTARGET",Ac[x].urlTarget),z.setAttribute("ROLLOVER",Ac[x].rollover),z.setAttribute("CAPTION",Ac[x].caption),z.setAttribute("TOOLTIP",Ac[x].tooltip),z.setAttribute("CAPTIONPOSITION",Ac[x].captionPosition),z.setAttribute("USER",Z.Utils.z285("z12")),z.setAttribute("DATE",Z.Utils.z282());var A=Ac[x].polygonPts;if(A!=null){var B=g.createElement("POLYGON");for(var C=0,D=A.length;C<D;C++){var E=g.createElement("POINT");E.setAttribute("X",A[C].x),E.setAttribute("Y",A[C].y),B.appendChild(E)}z.appendChild(B)}w.appendChild(z)}}}return g}function Df(b,c,d){a.z448(),Z.imageZ=ze(d);var e=we(b,c);Z.imageX=e.x,Z.imageY=e.y,a.updateView(!0)}function Ef(){ec&&($b!=0||_b!=0||ac!=0)&&(Ff($b,_b,ac),ec=window.setTimeout(Ef,dc))}function Ff(a,b,c){var d=!1,e=!1,f=!1;if(c!=0){var g=$*(1+c),h=_d(W,g);constrainedZoom=ze(h);if(constrainedZoom!=Z.imageZ)var e=f=Jf(constrainedZoom)}if(a!=0||b!=0){var i=parseFloat(q.left)+a,j=parseFloat(q.top)+b,k=ye(i,j);q.left=k.x+"px",q.top=k.y+"px",d=!0,f=!0}bc%2==0&&(Ee(),Le(),e&&Td(),f&&Ud())}function Gf(b,c,d,e,f){mc++;var g=e/f,h=mc*g,i=Z.Utils.z274(Z.imageX,b,h,e),j=Z.Utils.z274(Z.imageY,c,h,e),k=Z.Utils.z274(Z.imageZ,d,h,e),l=de(i,j,k),m=l.x,n=l.y;if(m!=parseFloat(q.left)||n!=parseFloat(q.top))syncNav=!0;var o=syncNav=Jf(k);q.left=m+"px",q.top=n+"px",Le(),mc%2==0&&(o&&Td(),syncNav&&Ud()),mc<f+1?lc=window.setTimeout(function(){Gf(b,c,d,e,f)},g):(If(),a.updateView(),a.z427(!0))}function Hf(){ec&&(window.clearTimeout(ec),ec=null),$b=0,_b=0,ac=0,bc=0}function If(){lc&&(window.clearTimeout(lc),lc=null)}function Jf(a){var b=!1,c=ae(W,a);if(c!=$){$=c,ab=ae(X,a);var d=c/_,e=Eb*d,f=Fb*d,g=(Eb-e)/2,h=(Fb-f)/2;if(c<_){var i=xe(g,h);q.left=Ib+i.x-g+"px",q.top=Kb+i.y-h+"px"}if(Z.useCanvas)x.width=e+"px",x.height=f+"px",x.left=g+"px",x.top=h+"px",O&&(P.width=e+"px",P.height=f+"px",P.left=g+"px",P.top=h+"px"),S&&(T.width=e+"px",T.height=f+"px",T.left=g+"px",T.top=h+"px"),e=Mb*d,f=Nb*d,g=Ob+Z.imageX*(1-d)*Z.imageZ,h=Pb+Z.imageY*(1-d)*Z.imageZ,t.width=e+"px",t.height=f+"px",t.left=g+"px",t.top=h+"px";else{Pd(w,W,kb,"centerOut",!1,"Scaling: non-canvas zoom"),tierBackfillW=db[X],tierBackfillH=eb[X],s.width=tierBackfillW,s.height=tierBackfillH;var j=tierBackfillW*ab,k=tierBackfillH*ab,l=Z.imageX*a,m=Z.imageY*a;Ob=Gb-l,Pb=Hb-m,t.left=Ob+"px",t.top=Pb+"px",Pd(s,X,bb,"simple",!1,"Scaling: non-canvas zoom - backfill")}b=!0}return b}function Kf(a){a?(uc||Lf(),uc.elmt.style.display="inline-block"):uc&&(uc.elmt.style.display="none")}function Lf(){var a=Z.Utils.z285("z58"),b=34,c=34,d=20,e=parseFloat(Z.viewerW)-(b+d),f=parseFloat(Z.viewerH)-(c+d),g=Z.Utils.z285("z57");uc=new Z.Utils.Button("buttonFPCancel",a,null,null,null,null,b+"px",c+"px",e+"px",f+"px","mousedown",Mf,"z174","solid","1px",g,"0px","0px"),Z.ViewerDisplay.appendChild(uc.elmt)}function Mf(){a.toggleFullPageView(!1)}function Nf(){Z.Utils.addEventListener(document,"keydown",bg),Z.Utils.addEventListener(document,"keyup",cg),Z.mobileDevice?(Z.Utils.addEventListener(p,"touchstart",Tf),Z.Utils.addEventListener(p,"touchmove",Uf),Z.Utils.addEventListener(p,"touchend",Vf),Z.Utils.addEventListener(p,"touchcancel",Wf),Z.Utils.addEventListener(p,"gesturestart",Xf),Z.Utils.addEventListener(p,"gesturechange",Yf),Z.Utils.addEventListener(p,"gestureend",Zf),document.getElementsByTagName("body")[0].onorientationchange=ag):(Z.Utils.addEventListener(Z.ViewerDisplay,"mouseover",Of),Z.Utils.addEventListener(Z.ViewerDisplay,"mouseout",Sf),Z.Utils.addEventListener(Z.ViewerDisplay,"mousemove",Z.Utils.preventDefault),Z.Utils.addEventListener(p,"mousedown",Pf),Z.Utils.addEventListener(p,"mousemove",Z.Utils.preventDefault)),Z.Utils.addEventListener(s,"contextmenu",Z.Utils.preventDefault),Z.Utils.addEventListener(w,"contextmenu",Z.Utils.preventDefault),E&&Z.Utils.addEventListener(E,"contextmenu",Z.Utils.preventDefault),H&&Z.Utils.addEventListener(H,"contextmenu",Z.Utils.preventDefault)}function Of(a){var b=Z.Utils.z353(Z.Utils.target(Z.Utils.event(a))),c=Z.Utils.z353(Z.Utils.relatedTarget(a));if(!b||!c)Z.ToolbarDisplay&&Z.toolbarVisible>1&&Z.Toolbar.show(!0),Z.NavigatorDisplay&&Z.navigatorVisible>1&&Z.Navigator.setVisibility(!0),Rb=null}function Pf(b){var c=window.setTimeout(function(){a.z448()},1);if(Z.Utils.z324(b))return;Qb=!0;var d=Z.Utils.getMousePosition(b);Sb=new Z.Utils.Point(d.x,d.y),p.mouseXPrior=d.x,p.mouseYPrior=d.y;if(Z.z375&&Cc!==null){var e=a.z281(b,Sb,W,$);Gc=Af(b,e)}return Z.Utils.addEventListener(document,"mousemove",Qf),Z.Utils.addEventListener(p,"mouseup",Rf),Z.Utils.addEventListener(document,"mouseup",Rf),!1}function Qf(b){var b=Z.Utils.event(b),c=Z.Utils.getMousePosition(b);Tb=new Z.Utils.Point(c.x,c.y);var d=a.z281(b,Tb,W,$);if(Z.z375&&Gc!==null&&Qb)xf(Cc,Gc,d);else if(Z.z375&&!Fc&&(!Qb||Qb&&Gc!==null)){var e=(d.x-Z.imageX)*Z.imageZ,f=(d.y-Z.imageY)*Z.imageZ;vf(e,f)}else{if(!Z.mousePan)return;var g=c.x-p.mouseXPrior,h=c.y-p.mouseYPrior;if(!isNaN(g)&&!isNaN(h)){var i=parseFloat(q.left)+g,j=parseFloat(q.top)+h,k=ye(i,j);q.left=k.x+"px",q.top=k.y+"px",p.mouseXPrior=c.x,p.mouseYPrior=c.y;if(Z.Navigator){var l=a.z217(k);Z.Navigator.z417(l)}}}return!1}function Rf(b){Qb=!1,document.mousemove=null,document.mouseup=null,Z.Utils.removeEventListener(document,"mousemove",Qf),Z.Utils.removeEventListener(p,"mouseup",Rf),Z.Utils.removeEventListener(document,"mouseup",Rf);var b=Z.Utils.event(b),c=Z.Utils.getMousePosition(b),d;Rb?d=Rb:d=new Z.Utils.Point(c.x,c.y);var e=Z.Utils.calculatePointsDistance(Sb.x,Sb.y,d.x,d.y,2);if(e<4){var f=a.z281(b,d,W,$);if(Z.clickZoom&&!Z.z375)var g=window.setTimeout(function(){a.zoomAndPanToView(f.x,f.y,f.z)},1);else Z.clickPan&&!Z.z375?a.zoomAndPanToView(f.x,f.y,Z.imageZ):Z.z375&&(yf(b,f),Fc||Z.Utils.addEventListener(document,"mousemove",Qf))}else{if(Z.z375&&(Hc||Gc===null&&!Fc)){Gc=null,Hc=!1;var h=new Se,i=Ac.indexOfObjectValue("internalID",Cc);if(i!=-1){var j=Z.Utils.getCenterOfPolygonPoints(Ac[i].polygonPts);Ac[i].x=j.x,Ac[i].y=j.y,Sd(S),Oe(Ac[i],h),Fc||Z.Utils.addEventListener(document,"mousemove",Qf)}}Tb=null,Z.mousePan&&a.updateView()}Rb&&(Z.ToolbarDisplay&&Z.toolbarVisible>1&&Z.Toolbar.show(!1),Z.NavigatorDisplay&&Z.navigatorVisible>1&&Z.Navigator.setVisibility(!1))}function Sf(a){var b=Z.Utils.z353(Z.Utils.target(a)),c=Z.Utils.z353(Z.Utils.relatedTarget(Z.Utils.event(a)));if(!b||!c)if(!Qb)Z.ToolbarDisplay&&Z.toolbarVisible>1&&Z.Toolbar.show(!1),Z.NavigatorDisplay&&Z.navigatorVisible>1&&Z.Navigator.setVisibility(!1);else{var d=Z.Utils.getMousePosition(a);Rb=new Z.Utils.Point(d.x,d.y)}}function Tf(b){a.z448();var b=Z.Utils.event(b),c=Z.Utils.getFirstTouch(b);if(c&&!Ub){Wb=!1;var d=c.target,e=new Z.Utils.Point(c.pageX,c.pageY);Sb=new Z.Utils.Point(e.x,e.y),p.mouseXPrior=e.x,p.mouseYPrior=e.y;if(Z.z375){Qb=!0;if(Cc!==null){var f=a.z281(b,Sb,W,$);Gc=Af(b,f)}}}}function Uf(b){var b=Z.Utils.event(b);b.preventDefault();var c=Z.Utils.getFirstTouch(b),d=new Z.Utils.Point(c.pageX,c.pageY);Tb=new Z.Utils.Point(d.x,d.y);var e=a.z281(b,Tb,W,$);if(Z.z375&&Gc!==null&&Qb)xf(Cc,Gc,e);else{if(!Z.mousePan)return;if(c&&!Ub&&!Wb){var f=c.target,g=d.x-p.mouseXPrior,h=d.y-p.mouseYPrior;if(!isNaN(g)&&!isNaN(h)){var i=parseFloat(q.left)+g,j=parseFloat(q.top)+h,k=ye(i,j);q.left=k.x+"px",q.top=k.y+"px",p.mouseXPrior=d.x,p.mouseYPrior=d.y;if(Z.Navigator){var l=a.z217(k);Z.Navigator.z417(l)}}}}return!1}function Vf(b){var b=Z.Utils.event(b);if(!Ub&&!Wb){Qb=!1,typeof Tb!="undefined"&&Tb!==null?dragPtEnd=Tb:dragPtEnd=Sb;var c=Z.Utils.calculatePointsDistance(Sb.x,Sb.y,dragPtEnd.x,dragPtEnd.y,2);if(c<4){var d=a.z281(b,dragPtEnd,W,$);Z.clickZoom&&!Z.z375?a.zoomAndPanToView(d.x,d.y,d.z):Z.clickPan&&!Z.z375?a.zoomAndPanToView(d.x,d.y,Z.imageZ):Z.z375&&yf(b,d)}else{if(Z.z375&&(Hc||Gc===null&&!Fc)){Gc=null,Hc=!1;var e=new Se,f=Ac.indexOfObjectValue("internalID",Cc);if(f!=-1){var g=Z.Utils.getCenterOfPolygonPoints(Ac[f].polygonPts);Ac[f].x=g.x,Ac[f].y=g.y,Sd(S),Oe(Ac[f],e),Fc||Z.Utils.addEventListener(document,"mousemove",Qf)}}Z.mousePan&&a.updateView()}Tb=null}}function Wf(b){var b=Z.Utils.event(b);if(!Ub&&!Wb){Qb=!1;var c=!1;typeof Tb!="undefined"&&Tb!==null?dragPtEnd=Tb:dragPtEnd=Sb;var d=Z.Utils.calculatePointsDistance(Sb.x,Sb.y,dragPtEnd.x,dragPtEnd.y,2);if(d<4){var e=a.z281(b,dragPtEnd,W,$);Z.clickZoom&&!Z.z375?a.zoomAndPanToView(e.x,e.y,e.z):Z.clickPan&&!Z.z375?a.zoomAndPanToView(e.x,e.y,Z.imageZ):Z.z375&&yf(b,e)}else{if(Z.z375&&(Hc||Gc===null&&!Fc)){Gc=null,Hc=!1;var f=new Se,g=Ac.indexOfObjectValue("internalID",Cc);if(g!=-1){var h=Z.Utils.getCenterOfPolygonPoints(Ac[g].polygonPts);Ac[g].x=h.x,Ac[g].y=h.y,Sd(S),Oe(Ac[g],f),Fc||Z.Utils.addEventListener(document,"mousemove",Qf)}}Z.mousePan&&a.updateView()}Tb=null}}function Xf(b){a.z448();var b=Z.Utils.event(b);Yf(b),Ub||(Ub=window.setInterval($f,Xb))}function Yf(a){var a=Z.Utils.event(a);a.preventDefault(),Vb=Math.round(a.scale*100)/100}function Zf(b){Ub&&(window.clearInterval(Ub),Wb=!0,Ub=null),Z.mousePan&&a.updateView()}function $f(a){if(!Z.mousePan)return;var b=_f(W,_,Vb),c=ze(b);b!=Z.imageZ&&Jf(c)}function _f(a,b,c){var d=b*c,e=_d(a,d);return e}function ag(b){Z.fullPage&&(Z.ToolbarDisplay&&Z.toolbarVisible>1&&Z.Toolbar.show(!1),Z.NavigatorDisplay&&Z.navigatorVisible>1&&Z.Navigator.setVisibility(!1),a.toggleFullPageView(!1),a.toggleFullPageView(!0),Z.ToolbarDisplay&&Z.toolbarVisible>1&&Z.Toolbar.show(!0),Z.NavigatorDisplay&&Z.navigatorVisible>1&&Z.Navigator.setVisibility(!0))}function bg(b){if(!Z.keys)return;b.altKey||If();var b=Z.Utils.event(b);switch(b.keyCode){case 90:a.zoom("out");break;case 17:a.zoom("out");break;case 65:a.zoom("in");break;case 16:a.zoom("in");break;case 37:a.pan("left");break;case 38:a.pan("up");break;case 40:a.pan("down");break;case 39:a.pan("right");break;case 27:Z.fullPage?a.toggleFullPageView(!1):a.reset()}}function cg(b){if(!Z.keys)return;var b=Z.Utils.event(b),c=b.keyCode;c==90||c==17||c==65||c==16?a.zoom("stop"):c==37||c==39?a.pan("horizontalStop"):(c==38||c==40)&&a.pan("verticalStop")}var a=this,b=!1,c=-1,d=0,e=0,f=256,g=0,h=256,i,k=parseFloat(Z.Utils.z285("z116")),l=k/2,m=parseInt(Z.Utils.z285("z117"),10),n=Z.toolbarVisible==1?Z.toolbarH:0,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U;yd();var V=1,W=0,X=0,Y=!1,$,_,ab,bb=[],cb=[],db=[],eb=[],fb=[],gb=[],hb=[],ib=[],jb=[],kb=[],lb=[],mb=[],nb=[],ob=[],pb=[],qb=[],rb=[],sb=0,tb=new Z.NetConnector,ub=parseInt(Z.Utils.z285("z40"),10),vb=parseInt(Z.Utils.z285("z39"),10),wb=parseInt(Z.Utils.z285("z38"),10),xb=parseInt(Z.Utils.z285("z37"),10),yb=parseInt(Z.Utils.z285("z36"),10),zb=parseFloat(Z.Utils.z285("z95"),10),Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb;Ab=Z.viewerW,Bb=Z.viewerH,Cb=Db=0,Bb-=n,Z.toolbarPosition==0&&(Db+=n);var Qb=!1,Rb=null,Sb,Tb,Ub=null,Vb=null,Wb=!1,Xb=parseInt(Z.Utils.z285("z63"),10),Yb=parseFloat(Z.Utils.z285("z134"))*Z.zoomSpeed;Z.mobileDevice&&(Yb/=2);var Zb=Math.round(parseFloat(Z.Utils.z285("z97"))*Z.panSpeed),$b=0,_b=0,ac=0,bc=0,cc=0,dc=parseInt(Z.Utils.z285("z135"),10),ec,fc,gc,hc=parseFloat(Z.Utils.z285("z54"))*Z.fadeInSpeed,ic,jc=parseFloat(Z.Utils.z285("z137")),kc=parseFloat(Z.Utils.z285("z136"));Z.mobileDevice&&(kc/=2);var lc=null,mc=0,nc,oc,pc,qc,rc,sc,tc,uc,vc;if(Z.Utils.isStrVal(Z.watermarkPath))var wc,xc,yc=[],zc=[];if(Z.Utils.isStrVal(Z.hotspotPath)||Z.Utils.isStrVal(Z.annotationPath)){var Ac=[],Bc=[],Cc=null,Dc=null,Ec=!1,Fc=!0,Gc=null,Hc=!1,Ic=new Z.NetConnector,Jc=Z.Utils.z285("z105"),Kc=Z.Utils.z285("z45"),Lc=Z.Utils.z285("z47"),Mc=Z.Utils.z285("z55"),Nc=Z.Utils.z285("z115"),Oc=parseInt(Z.Utils.z285("z46"),10),Pc=parseInt(Z.Utils.z285("z64"),10),Qc=parseInt(Z.Utils.z285("z82"),10),Rc=parseInt(Z.Utils.z285("z80"),10),Sc=parseInt(Z.Utils.z285("z65"),10),Tc=parseInt(Z.Utils.z285("DEFAULT_MINHOTSPOTCAPTIONPADDING"),10),Uc=parseInt(Z.Utils.z285("DEFAULT_MAXHOTSPOTCAPTIONPADDING"),10);Z.mobileDevice&&(Oc*=2);if(Z.Utils.isStrVal(Z.hotspotPath))var Vc,Wc,Xc,Yc,Zc,$c=[];else if(Z.Utils.isStrVal(Z.annotationPath))var _c,ad,bd,cd,dd,ed,fd,gd,hd=[],id=[],jd=[],kd=[],ld=[],md=[],nd=[],od=[],pd=[],qd=!1}zd(Ab,Bb,Cb,Db);if(Z.imageProperties==null){var rd=new Z.NetConnector;Ad(rd)}else{var sd=Z.Utils.z241(Z.imageProperties);Bd(sd)}this.z284=function(){return wd()},this.getW=function(){return Eb},this.getH=function(){return Fb},this.z286=function(){return V},this.z294=function(){return i},this.z287=function(){return W},this.getTierScale=function(){return $},this.getX=function(){var b=parseFloat(q.left)-Ib,c=a.getZoom(),d=Z.imageX-b/c;return d},this.getY=function(){var b=parseFloat(q.top)-Kb,c=a.getZoom(),d=Z.imageY-b/c;return d},this.getZoom=function(){var a=_d(W,$);return a},this.z293=function(){return k},this.z292=function(){return l},this.z296=function(){return m},this.z291=function(){return db.join(",")},this.z288=function(){return eb.join(", ")},this.z290=function(){return hb.join(", ")},this.z295=function(){var a=jb.join(", ")==""?"Current view loading complete":jb.join(", ");return a},this.setSizeAndPosition=function(a,b,c,d){zd(a,b,c,d)},this.setHotspotPath=function(a){H&&(Z.hotspotPath=Z.Utils.z392(a))},this.loadImageProperties=function(a){Ad(a)},this.z366=function(a){Bd(a)},this.updateView=function(c){if(typeof c!="undefined"&&c===!0||$!=_||Z.imageZ!=cc||parseFloat(q.left)!=Ib||parseFloat(q.top)!=Kb){Ld(c),cc=a.getZoom();var d=!1;c||$!=_||Z.imageZ!=cc||!b?(Md(),Nd(),Pd(s,X,bb,"simple",!1,"2. Updating view: changing tier - backfill"),!c&&m>0&&(d=!0)):Z.debug==2&&Z.Utils.trace("2. Updating view: no change to tier."),Od(),Pd(w,W,kb,"centerOut",d,"3. Updating view: prior to loading of any new tiles"),Rd(jb,me,0),Ee(),Le(),Td(),Ud()}},this.z279=function(a,b,i,j){var k;if(Z.tileSource=="ZoomifyImageFolder"){var l=i*fb[a]+b;for(var m=0;m<a;m++)l+=hb[m];var n=Math.floor(l/h);k=Z.imagePath+"/"+"TileGroup"+n+"/"+a+"-"+b+"-"+i+".jpg",k=Z.Utils.z215(k)}else if(Z.tileSource=="ZoomifyImageFile"){var o=0,p=0,q,r,s,t,u,v,w,x,k="offsetLoading";for(var y=V-1;y>a;y--)o+=hb[y];o+=i*fb[a]+b,q=Math.floor(o/f),p=o-1==-1?0:o-1,r=Math.floor(p/f);if(nb[q]==undefined||nb[q]=="offsetLoading"||nb[r]==undefined||nb[r]=="offsetLoading"){var z=fe(a,b,i);pb.push(z+","+a+","+b+","+i+","+j),Z.debug==2&&Z.Utils.trace("Tile recorded for load retry after load chunk: "+z+","+a+","+b+","+i+","+j),nb[q]==undefined&&(nb[q]="offsetLoading",u=e+f*q*8,v=u+f*8,ge(u,v,z)),nb[r]==undefined&&(nb[r]="offsetLoading",w=e+f*r*8,x=w+f*8,ge(w,x,z))}else{var A=Math.floor(nb[q][0]),B=Math.floor(nb[r][0]),C=nb[r][1],D=nb[q][1];t=9*(p%f);var E=Math.floor(parseFloat(C.substring(t,t+9)));s=9*(o%f);var F=Math.floor(parseFloat(D.substring(s,s+9))),G=o==0?e+g*8:B+E,H=A+F;H-G>0?k=Z.tileHandlerPathFull+"?file="+Z.imagePath+"&requestType=0&begin="+G.toString()+"&end="+H.toString()+"&vers="+c.toString()+"&head="+d.toString():k="skipTile:"+a+"-"+b+"-"+i}}return k},this.z367=function(a){var b=parseInt(a.documentElement.getAttribute("BEGIN"),10),c=a.documentElement.getAttribute("REPLYDATA"),d=ob[b],g=Math.floor((b-e)/8/f);nb[g]=new Array,nb[g]=c.split(",",2),he(d)},this.z365=function(a){var b=a.getElementsByTagName("HOTSPOTSETUP")[0],c=b.getAttribute("CHOICELIST");Wc=Z.Utils.isStrVal(c)?c:Z.Utils.z285("z66");var d=b.getAttribute("LISTSOURCE"),e=Z.Utils.isStrVal(d)?d:Z.Utils.z285("z67"),f=b.getAttribute("LISTTITLE"),g=Z.hotspotListTitle!==null?Z.hotspotListTitle:Z.Utils.isStrVal(f)?f:Z.Utils.z285("z68"),h=Z.Utils.z285("z70"),i=b.getAttribute("INITIALVISIBILITY");h?Xc=i!="0"&&i!="hide":Xc=i!="1"&&i!="show";var j=parseFloat(b.getAttribute("MINSCALE")),k=parseFloat(b.getAttribute("MAXSCALE"));Yc=isNaN(j)?1:j,Zc=isNaN(k)?1:k;var l=[];$c=[],Bc=[];var m=!1,n=-1,o=a.getElementsByTagName("HOTSPOT");for(var p=0,q=o.length;p<q;p++){var r=new He(o[p]);n++,r.internalID=n;if(Ze(r)){Ac.push(r);if(o[p].getAttribute("MEDIATYPE")!="symbol"){var s=o[p].getAttribute("MEDIA");Z.Utils.isStrVal(s)&&l.push(s)}else o[p].getAttribute("MEDIA")!="polygon"&&(m=!0);var t=unescape(o[p].getAttribute("ID")),u=unescape(o[p].getAttribute("NAME")),v=unescape(o[p].getAttribute("CAPTION")),w=unescape(o[p].getAttribute("TOOLTIP"));switch(e){case"CAPTION":$c.push({text:v,value:t});break;case"TOOLTIP":$c.push({text:w,value:t});break;default:$c.push({text:u,value:t})}}}Z.debug==2&&m&&Z.Utils.trace(Z.Utils.z285("z141")),I.visibility=Xc?"visible":"hidden",Ve(g,$c),Me(),l.sort(),l=Z.Utils.z391(l),Ie(l)},this.createHotspot=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o="<HOTSPOT ID='"+a+"' NAME='"+b+"' MEDIATYPE='"+c+"' MEDIA='"+d+"' X='"+e.toString()+"' Y='"+f.toString()+"' ZOOM='"+g.toString()+"' XSCALE='"+h.toString()+"' YSCALE='"+i.toString()+"' URL='"+j+"' URLTARGET='"+k+"' ROLLOVER='"+l+"' CAPTION='"+m+"' TOOLTIP='"+n+"'></HOTSPOT>",p=Z.Utils.z241(o),q=p.getElementsByTagName("HOTSPOT"),r=new He(q[0]);r.internalID=Re("hotspot");var s=Bc.indexOfObjectValueSubstring("src",r.media),d=Bc[s];if(s!=-1){var t=new Image;t.src=r.media;var u=t.width,v=t.height;t=null,r.image=d.cloneNode(!1),r.iW=u,r.iH=v;var w=new Se;Oe(r,w)}else{var x=(new Date).getTime();Je(r.media,x)}Ac.push(r),We(r.name,r.internalID)},this.modifyHotspot=function(){},this.setHotspotsVisibility=function(a){I.visibility=a?"visible":"hidden"},this.setHotspotsVisibilityByFilter=function(a,b,c){if(Ac.length>0)if(H&&H.childNodes.length>0){for(var d=0,e=Ac.length;d<e;d++)if(Ac[d][a]==b){var f=Ac[d].id,g=document.getElementById("hot"+f);g!=null&&Xe(g,c)}}else var h=window.setTimeout(function(){setHotspotsVisibilityByFilter(a,b,c)},100)},this.setHotspotVisibilityByID=function(a,b){if(Ac.length>0)if(H&&H.childNodes.length>0){var c=Ac.indexOfObjectValue("id",a);if(c!=-1){var d=Ac[c].id,e=document.getElementById("hot"+d);e!=null&&Xe(e,b)}}else var f=window.setTimeout(function(){setHotspotVisibilityByID(a,b)},100)},this.z364=function(a){_c=_e(a);var b,c=-1,d=_c.getElementsByTagName("LABELSETUP")[0];ad=d.getAttribute("PANELPOSITION"),Xc=d.getAttribute("INITIALVISIBILITY")!="0",dd=d.getAttribute("NOTEVISIBILITY")!="0",Yc=parseFloat(d.getAttribute("MINSCALE")),Zc=parseFloat(d.getAttribute("MAXSCALE")),hd=[],kd=[],ld=[],id=[],jd=[],Bc=[];var e=[],f=!1,g=_c.getElementsByTagName("POI");for(var h=0,i=g.length;h<i;h++){var j=unescape(g[h].getAttribute("ID")),k=unescape(g[h].getAttribute("NAME")),l=unescape(g[h].getAttribute("X")),m=unescape(g[h].getAttribute("Y")),n=unescape(g[h].getAttribute("ZOOM"));hd.push({text:k,value:j,x:l,y:m,zoom:n});var o=g[h].getElementsByTagName("NOTES")[0];if(o){var p=o.getElementsByTagName("NOTE");for(var q=0,r=p.length;q<r;q++){var s=unescape(p[q].getAttribute("ID")),t=unescape(p[q].getAttribute("NAME")),u=unescape(p[q].getAttribute("TEXT"));kd.push({text:t,value:s,noteText:u,poiID:j})}}var v=g[h].getElementsByTagName("LABELS")[0];if(v){var w=v.getElementsByTagName("LABEL");for(var x=0,y=w.length;x<y;x++){var z=unescape(w[x].getAttribute("NAME"));c++,w[x].setAttribute("INTERNALID",c.toString()),id.push({text:z,value:c,poiID:j});if(w[x].getAttribute("MEDIA")!="polygon"){if(w[x].getAttribute("MEDIATYPE")=="symbol"){var A=w[x].getAttribute("MEDIA"),B;switch(A){case"circle":B=Z.annotationPath+"/"+"circle.png";break;case"square":B=Z.annotationPath+"/"+"square.png";break;case"triangle":B=Z.annotationPath+"/"+"triangle.png";break;case"arrowDown":B=Z.annotationPath+"/"+"arrowDown.png";break;case"arrowDownLeft":B=Z.annotationPath+"/"+"arrowDownLeft.png";break;case"arrowLeft":B=Z.annotationPath+"/"+"arrowLeft.png";break;case"arrowUpLeft":B=Z.annotationPath+"/"+"arrowUpLeft.png";break;case"arrowUp":B=Z.annotationPath+"/"+"arrowUp.png";break;case"arrowUpRight":B=Z.annotationPath+"/"+"arrowUpRight.png";break;case"arrowRight":B=Z.annotationPath+"/"+"arrowRight.png";break;case"arrowRightDown":B=Z.annotationPath+"/"+"arrowRightDown.png";break;case"lineHorizontal":B=Z.annotationPath+"/"+"lineHorizontal.png";break;case"lineVertical":B=Z.annotationPath+"/"+"lineVertical.png";break;default:B=Z.annotationPath+"/"+"noSubstitutePlaceholder.png"}w[x].setAttribute("MEDIA",B),f=!0}e.push(w[x].getAttribute("MEDIA"))}var C=new He(w[x]);Ac.push(C)}}}af(),I.visibility=Xc?"visible":"hidden",cf(),e.sort(),e=Z.Utils.z391(e),Ie(e)},this.togglePolygonEditing=function(a){Cc!==null&&(Z.z375=a?a:!Z.z375,Dc=null,Gc=null,Hc=!1,Fc=!0,wf(!0));var b=document.getElementById("buttonEditMode");if(b)var c=b.style;var d=document.getElementById("buttonEditDelete");if(d)var e=d.style;var f=document.getElementById("buttonEditCancel");if(f)var g=f.style;var h=document.getElementById("buttonEditSave");if(h)var i=h.style;c&&g&&e&&i&&(Z.z375?(Z.Toolbar.z210(b,"hidden"),Z.Toolbar.z210(d,"visible"),Z.Toolbar.z210(f,"visible"),Z.Toolbar.z210(h,"visible")):(Z.Toolbar.z210(b,"visible"),Z.Toolbar.z210(d,"hidden"),Z.Toolbar.z210(f,"hidden"),Z.Toolbar.z210(h,"hidden"))),Z.mobileDevice&&Z.z375&&Z.progressVisible?Z.Toolbar.hideProgress():Z.progressVisible&&Z.Toolbar.z406(),Z.z375?(md=Z.Utils.clone("hotspots",Ac,md),od=Z.Utils.clone("labels",id,od)):(Z.Utils.removeEventListener(document,"mousemove",Qf),a!=0&&(Z.Utils.z405(Z.Utils.z285("z6")),this.saveAnnotations()))},this.deleteCurrentLabel=function(){ff(Cc);var a=Ac.indexOfObjectValue("internalID",Cc);a!=-1&&(Ac.splice(a,1),Ac.length>0?Cc=parseInt(ed.options[ed.selectedIndex].value):Cc=null,Dc=null,Gc=null,Le())},this.cancelLabelEdits=function(){Z.Utils.z405(Z.Utils.z285("z2")),Ac=Z.Utils.clone("hotspots",md,Ac),id=Z.Utils.clone("labels",od,id);var a=bd.options[bd.selectedIndex].value;jd=sf(id,a),Z.Utils.z428(ed,jd),Cc=parseInt(ed.options[ed.selectedIndex].value),Le(),this.togglePolygonEditing(!1)},this.saveAnnotations=function(){_c=Cf(_c);if(Z.Utils.isStrVal(Z.saveHandlerPath))if(Z.saveHandlerPath.indexOf(Z.Utils.z285("z4"))!=-1)Z.Utils.z405(Z.Utils.z285("z5"));else{var a=new Z.NetConnector;a.postXML(Z.saveHandlerPath,_c)}else Z.Utils.z405(Z.Utils.z285("z171"));this.togglePolygonEditing(!1)},this.setAllHotspotsSaved=function(){for(var a=0,b=Ac.length;a<b;a++)Ac[a].saved==1},this.setView=function(a,b,c){if(a==undefined||a==null)a=Z.imageW/2;if(b==undefined||b==null)b=Z.imageH/2;c==undefined||c==null?c=Z.fitZ:c>1&&(c/=100),Df(a,b,c)},this.zoom=function(b){switch(b){case"out":ac>=0&&(ac-=Yb);break;case"in":ac<=0&&(ac+=Yb);break;case"stop":ac=0}Z.z454=ac==0?"stop":ac>0?"in":"out",ac!=0?ec||((ac<0&&Z.imageZ>Z.minZ||ac>0&&Z.imageZ<Z.maxZ)&&a.z427(!1),Z.useCanvas||Sd(E),ec=window.setTimeout(Ef,dc)):(Hf(),a.updateView(),a.z427(!0))},this.pan=function(b){switch(b){case"left":$b<=0&&($b+=Zb);break;case"up":_b<=0&&(_b+=Zb);break;case"down":_b>=0&&(_b-=Zb);break;case"right":$b>=0&&($b-=Zb);break;case"horizontalStop":$b=0;break;case"verticalStop":_b=0;break;case"stop":$b=0,_b=0}Z.z362=$b==0?"stop":$b>0?"left":"right",Z.z363=_b==0?"stop":_b>0?"up":"down",fc=Z.imageX*_d(W,1),gc=Z.imageY*_d(W,1),$b!=0||_b!=0?ec||(a.z427(!1),Z.useCanvas||Sd(E),ec=window.setTimeout(Ef,dc)):(Hf(),a.updateView(),a.z427(!0))},this.zoomAndPanToView=function(b,c,d,e,f){a.z448();if(typeof e=="undefined"||e===null)e=jc;if(typeof f=="undefined"||f===null)f=kc;a.z427(!1),Z.useCanvas||Sd(E),b==null&&(b=Z.initialX),c==null&&(c=Z.initialY),d==null?d=Z.initialZ:d>1&&d<2&&d%1!=0?d=1:d>1?d/=100:d>.99&&d<1&&d*100%1!=0&&(d=1);var g=we(b,c,d);b=g.x,c=g.y,d=ze(d),mc=0,Gf(b,c,d,e,f)},this.z448=function(b){Hf(),If(),b||a.updateView()},this.z394=function(a){var b=Jf(a);b&&(Ee(),Le(),Ud())},this.reset=function(){a.zoomAndPanToView(Z.initialX,Z.initialY,Z.initialZ)},this.toggleFullPageViewExternal=function(){vc=!0,a.toggleFullPageView()},this.toggleFullPageView=function(b){a.z448(),Z.fullPage=b?b:!Z.fullPage;var c=document.body,d=c.style,e=document.documentElement.style,f=Z.ViewerDisplay.style,g=null,h=null;if(Z.fullPage){nc=d.width,oc=d.height,pc=d.overflow,qc=e.overflow,rc=f.backgroundColor,sc=f.position,tc=f.zIndex;var i;Z.mobileDevice?(i=Z.Utils.getWindowSize(),d.width=i.x,d.height=i.y):(d.width="100%",d.height="100%"),d.overflow="hidden",e.overflow="hidden",f.backgroundColor=Z.Utils.z285("z59"),f.position="fixed",f.zIndex="99999999",i=Z.Utils.getWindowSize(),g=i.x,h=i.y}else{d.width=nc,d.height=oc,d.overflow=pc,e.overflow=qc,f.backgroundColor=rc,f.position="relative",f.zIndex=tc;var j=Z.Utils.getElementStyle(Z.pageContainer);g=parseFloat(j.width),h=parseFloat(j.height),isNaN(g)&&(g=Z.ViewerDisplay.clientWidth),isNaN(h)&&(h=Z.ViewerDisplay.clientHeight),vc=!1}Z.viewerW=g,Z.viewerH=h,zd(g,h),Kf(vc);if(Z.ToolbarDisplay&&Z.Toolbar.z284()){Z.toolbarCurrentW=Z.toolbarW==-1?g:Z.toolbarW;var k=Z.toolbarPosition==1?Z.viewerH-Z.toolbarH:0;Z.Toolbar.setSizeAndPosition(Z.toolbarCurrentW,null,null,k)}Z.NavigatorDisplay&&Z.Navigator.z284()&&Z.Navigator.setSizeAndPosition(Z.navigatorW,Z.navigatorH,Z.navigatorL-1,Z.navigatorT-1),Hd(),Z.imageZ=ze(Z.imageZ);var l=parseFloat(q.left),m=parseFloat(q.top),n=ye(l,m);q.left=n.x+"px",q.top=n.y+"px",a.updateView(!0)},this.z424=function(){var a=Z.ViewerDisplay.firstChild.childNodes[0].style;a.display=a.display=="none"?"inline-block":"none"},this.z426=function(){var a=Z.ViewerDisplay.firstChild.childNodes[1].style;a.display=a.display=="none"?"inline-block":"none"},this.z427=function(a){if(F){var b=a?a:F.display!="inline-block";F.display=b?"inline-block":"none"}},this.z425=function(){Z.constrainPan=!Z.constrainPan;if(Z.constrainPan){var b=parseFloat(x.left),c=parseFloat(x.top),d=ye(b,c);q.left=d.x+"px",q.top=d.y+"px",a.updateView()}},this.z281=function(a,b,c,d){var e=parseFloat(Z.Utils.z285("z43")),f=be(b.x,b.y),g=ce(f.x,f.y),h=_d(c,d);return a.altKey?(d>1+e?h=_d(c,1):c>0&&(h=_d(c-1,1)),h-Z.fitZ<e&&(h=Z.fitZ)):d<1-e?h=_d(c,1):c<V-1&&(h=_d(c+1,1)),new Z.Utils.Point3D(g.x,g.y,h)},this.z419=function(a,b){var c=-(a-Z.imageX),d=-(b-Z.imageY),e=c*Z.imageZ,f=d*Z.imageZ,g=e+Ib,h=f+Kb,i=ye(g,h);q.left=i.x+"px",q.top=i.y+"px"},this.z217=function(a){if(!a)var a=new Z.Utils.Point(parseFloat(q.left),parseFloat(q.top));var b=a.x-Ib,c=a.y-Kb,d=b/Z.imageZ,e=c/Z.imageZ,f=Z.imageX-d,g=Z.imageY-e;return new Z.Utils.Point(f,g)}},Z.ZoomifyToolbar=function(a){function t(a,b){Z.ToolbarDisplay=Z.Utils.z248("div","ToolbarDisplay","inline-block","absolute","hidden","1px","1px","0px","1px","none","0px","transparent none","0px","0px","normal","default"),f=Z.ToolbarDisplay.style;var c=new Z.Utils.Graphic("background",Z.skinPath,b[0],"1px","1px","0px","0px");Z.ToolbarDisplay.appendChild(c.elmt),toolbarSkinSizes=a;if(Z.logoVisible){var d;if(!Z.Utils.isStrVal(Z.logoCustomPath))d=new Z.Utils.Graphic("toolbarLogo",Z.skinPath,b[1],"1px","1px","1px","1px");else{var g=Z.Utils.z215(Z.logoCustomPath);d=new Z.Utils.Graphic("toolbarLogo",g,null,"1px","1px","1px","1px")}Z.ToolbarDisplay.appendChild(d.elmt);if(Z.toolbarVisible==0||Z.toolbarVisible==1){var h=new Z.Utils.Graphic("logoDivider",Z.skinPath,b[2],"1px","1px","1px","1px");Z.ToolbarDisplay.appendChild(h.elmt)}}var i=Z.Utils.z248("div","buttonContainer","inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal","default");Z.ToolbarDisplay.appendChild(i),Z.mobileDevice?Z.Utils.addEventListener(i,"touchstart",Z.Utils.preventDefault):(Z.Utils.addEventListener(i,"mousedown",Z.Utils.preventDefault),Z.Utils.addEventListener(i,"mouseover",I));var j=new Z.Utils.Graphic("buttonBackground",Z.skinPath,b[0],"1px","1px","0px","0px");i.appendChild(j.elmt);if(Z.toolbarVisible!=0&&Z.toolbarVisible!=1||Z.mobileDevice){var k=new Z.Utils.Button("buttonMinimize",null,Z.skinPath,b[3],b[4],b[5],"1px","1px","1px","1px","mouseover",J,"z182");Z.ToolbarDisplay.appendChild(k.elmt);var l=new Z.Utils.Button("buttonExpand",null,Z.skinPath,b[6],b[7],b[8],"1px","1px","1px","1px","mouseover",J,"z180");Z.ToolbarDisplay.appendChild(l.elmt)}var m=new Z.Utils.Button("buttonZoomOut",null,Z.skinPath,b[9],b[10],b[11],"1px","1px","1px","1px","mouseover",J,"z196");i.appendChild(m.elmt);if(Z.sliderVisible){var n=new Z.Utils.Graphic("trackSlider",Z.skinPath,b[12],"1px","1px","0px","0px");i.appendChild(n.elmt),Z.Utils.addEventListener(n.elmt,"mousedown",J),Z.Utils.addEventListener(n.elmt,"touchstart",J);var o=new Z.Utils.Button("buttonSlider",null,Z.skinPath,b[14],b[15],b[16],"1px","1px","1px","1px","mouseover",J,"z189");i.appendChild(o.elmt)}var p=new Z.Utils.Button("buttonZoomIn",null,Z.skinPath,b[17],b[18],b[19],"1px","1px","1px","1px","mouseover",J,"z195");i.appendChild(p.elmt);var q=new Z.Utils.Graphic("panDivider",Z.skinPath,b[20],"1px","1px","1px","1px");i.appendChild(q.elmt);var r=new Z.Utils.Button("buttonPanLeft",null,Z.skinPath,b[21],b[22],b[23],"1px","1px","1px","1px","mouseover",J,"z184");i.appendChild(r.elmt);var s=new Z.Utils.Button("buttonPanUp",null,Z.skinPath,b[24],b[25],b[26],"1px","1px","1px","1px","mouseover",J,"z186");i.appendChild(s.elmt);var t=new Z.Utils.Button("buttonPanDown",null,Z.skinPath,b[27],b[28],b[29],"1px","1px","1px","1px","mouseover",J,"z183");i.appendChild(t.elmt);var u=new Z.Utils.Button("buttonPanRight",null,Z.skinPath,b[30],b[31],b[32],"1px","1px","1px","1px","mouseover",J,"z185");i.appendChild(u.elmt);var v=new Z.Utils.Button("buttonReset",null,Z.skinPath,b[33],b[34],b[35],"1px","1px","1px","1px","mouseover",J,"z187");i.appendChild(v.elmt);if(Z.fullPageVisible){var y=new Z.Utils.Graphic("fullPageDivider",Z.skinPath,b[36],"1px","1px","1px","1px");i.appendChild(y.elmt);var A=new Z.Utils.Button("buttonFullPage",null,Z.skinPath,b[37],b[38],b[39],"1px","1px","1px","1px","mouseover",J,"z194");i.appendChild(A.elmt)}if(Z.editMode&&Z.useCanvas){var B=new Z.Utils.Button("buttonEditMode",null,Z.skinPath,b[40],b[41],b[42],"1px","1px","1px","1px","mouseover",J,"z193");i.appendChild(B.elmt);var D=new Z.Utils.Button("buttonEditCancel",null,Z.skinPath,b[43],b[44],b[45],"1px","1px","1px","1px","mouseover",J,"z177");i.appendChild(D.elmt);var E=new Z.Utils.Button("buttonEditDelete",null,Z.skinPath,b[46],b[47],b[48],"1px","1px","1px","1px","mouseover",J,"z178");i.appendChild(E.elmt);var F=new Z.Utils.Button("buttonEditSave",null,Z.skinPath,b[49],b[50],b[51],"1px","1px","1px","1px","mouseover",J,"z179");i.appendChild(F.elmt)}if(Z.progressVisible){var G=Z.Utils.z248("div","progressTextBox","inline-block","absolute","hidden","1px","1px","1px","1px","none","0px","transparent none","0px","0px","normal"),H=toolbarSkinSizes[16];i.appendChild(G);var K=document.createTextNode(Z.Utils.z285("z108"));G.appendChild(Z.Utils.z247(K)),Z.Utils.z401(K,"black","verdana",H+"px","none","normal","normal","normal","normal","1em","left","none"),Z.Utils.addEventListener(G,"contextmenu",Z.Utils.preventDefault),Z.Utils.z260(K)}Z.ViewerDisplay.appendChild(Z.ToolbarDisplay),Z.toolbarW=toolbarSkinSizes[0],Z.toolbarCurrentW=Z.toolbarW==-1?Z.viewerW:Z.toolbarW,Z.toolbarH=e=toolbarSkinSizes[1];var L=Z.toolbarPosition==1?Z.viewerH-e:0;x(Z.toolbarCurrentW,Z.toolbarH,0,L);if(Z.Viewport&&Z.Viewport.z284()){var M=Z.Viewport.getZoom();C(M)}z(Z.toolbarVisible==1||Z.toolbarVisible==2||Z.toolbarVisible==4),Z.Utils.addEventListener(Z.ToolbarDisplay,"mouseover",Z.Utils.stopPropagation),w(!0)}function u(){window.clearInterval(p),p=null;var a=document.getElementById("progressTextBox").firstChild.firstChild.firstChild.firstChild;a&&(a.nodeValue="")}function v(){return c}function w(a){c=a}function x(a,b,c,d){typeof a=="undefined"||a===null?a=Z.toolbarVisible>0?Z.toolbarCurrentW:0:Z.toolbarCurrentW=a;if(typeof b=="undefined"||b===null)b=Z.toolbarVisible>0?e:0;if(typeof c=="undefined"||c===null)c=0;if(typeof d=="undefined"||d===null)d=Z.toolbarPosition==1?Z.viewerH-e:0;var f=Z.ToolbarDisplay.style;f.width=a+"px",f.height=b+"px",f.left=c+"px",f.top=d+"px",y(a,b)}function y(a,b){var c=a,d=b,e=toolbarSkinSizes[2],f=toolbarSkinSizes[3],g=toolbarSkinSizes[4],h=toolbarSkinSizes[5],i=toolbarSkinSizes[6],j=toolbarSkinSizes[7],k=toolbarSkinSizes[8],l=toolbarSkinSizes[9],m=toolbarSkinSizes[10],n=toolbarSkinSizes[11],o=toolbarSkinSizes[12],p=toolbarSkinSizes[13],t=toolbarSkinSizes[14],u=toolbarSkinSizes[15],v=0,w=(d-f)/2+1,x=(d-h)/2,y=(d-j)/2,z=y*1.3,A=y+4,B=y+2,C=Z.logoVisible==1?0:k/2,D=Z.logoVisible==1?0:k/2,E=k-(i-g),F=Z.fullPageVisible?8:7,G=20,H=F*k+2*E;Z.sliderVisible&&(H+=p),q=r=s=!1;var I=Z.logoVisible==1?e+2:0,J=Z.toolbarVisible!=0&&Z.toolbarVisible!=1?k:0,K=I+J,L=K+G+H+G+t;L>c&&(q=!0,L-p>c&&(r=!0,L-p-t>c&&(s=!0,K=0),t=0),H-=p);var M=K+(c-t-K-H)/2,N=document.getElementById("background");N.style.width=c+"px",N.firstChild.style.width=c+"px",N.style.height=d+"px",N.firstChild.style.height=d+"px";var O=document.getElementById("buttonContainer");O.style.width=H+G*2+"px",O.style.height=d+"px",O.style.left=M-G+"px";var P=document.getElementById("buttonBackground");P.style.width=c+"px",Z.Utils.z301(P,parseFloat(O.style.width),parseFloat(O.style.height)),P.style.left="0px";var Q=document.getElementById("toolbarLogo");if(Q){var R=Q.style;if(R)if(!s){R.display="inline-block",Z.Utils.z301(Q,e,f),R.left=v+"px",R.top=w+"px",v+=e+2;var S=document.getElementById("logoDivider");if(S){Z.Utils.z301(S,g,h);var T=S.style;T.left=v+"px",T.top=x+"px"}}else R.display="none"}if(Z.toolbarVisible!=0&&Z.toolbarVisible!=1){var U=document.getElementById("buttonMinimize"),V=document.getElementById("buttonExpand");if(U&&V){var W=U.style,X=V.style;W&&X&&(s?(W.display="none",X.display="none"):(W.display="inline-block",X.display="inline-block",Z.Utils.z213(U,i,j),Z.Utils.z213(V,i,j),W.left=v+C+"px",W.top=z+"px",X.left=v+D+"px",X.top=z+"px"))}}v=G;var Y=document.getElementById("buttonZoomOut");Z.Utils.z213(Y,i,j);var $=Y.style;$.left=v+"px",$.top=y+"px",v+=k;var _=document.getElementById("trackSlider"),ab=document.getElementById("buttonSlider");if(_&&ab){var bb=_.style,cb=ab.style;bb&&cb&&(q?(bb.display="none",cb.display="none"):(bb.display="inline-block",cb.display="inline-block",Z.Utils.z301(_,n,o),bb.left=v-2+"px",bb.top=A+"px",Z.Utils.z213(ab,l,m),cb.left=parseFloat(bb.left)+"px",cb.top=B+"px",v+=p))}var db=document.getElementById("buttonZoomIn");Z.Utils.z213(db,i,j);var eb=db.style;eb.left=v+"px",eb.top=y+"px",v+=k+1;var fb=document.getElementById("panDivider");Z.Utils.z301(fb,g,h);var gb=fb.style;gb.left=v+"px",gb.top=x+"px",v+=E;var hb=document.getElementById("buttonPanLeft");Z.Utils.z213(hb,i,j);var ib=hb.style;ib.left=v+"px",ib.top=y+"px",v+=k;var jb=document.getElementById("buttonPanUp");Z.Utils.z213(jb,i,j);var kb=jb.style;kb.left=v+"px",kb.top=y+"px",v+=k;var lb=document.getElementById("buttonPanDown");Z.Utils.z213(lb,i,j);var mb=lb.style;mb.left=v+"px",mb.top=y+"px",v+=k;var nb=document.getElementById("buttonPanRight");Z.Utils.z213(nb,i,j);var ob=nb.style;ob.left=v+"px",ob.top=y+"px",v+=k;var pb=document.getElementById("buttonReset");Z.Utils.z213(pb,i,j);var qb=pb.style;qb.left=v+"px",qb.top=y+"px",v+=k+1;var rb=document.getElementById("fullPageDivider");if(rb){Z.Utils.z301(rb,g,h);var sb=rb.style;sb.left=v+"px",sb.top=x+"px",v+=E;var tb=document.getElementById("buttonFullPage");Z.Utils.z213(tb,i,j);var ub=tb.style;ub.left=v+"px",ub.top=y+"px"}var vb=document.getElementById("buttonEditMode");if(vb){v+=k+10,Z.Utils.z213(vb,i,j);var wb=vb.style;wb.left=v+"px",wb.top=y+"px"}var xb=document.getElementById("buttonEditCancel");if(xb){Z.Utils.z213(xb,i,j);var yb=xb.style;yb.left=v+"px",yb.top=y+"px",yb.visibility="hidden"}var zb=document.getElementById("buttonEditDelete");if(zb){v+=k+1,Z.Utils.z213(zb,i,j);var Ab=zb.style;Ab.left=v+"px",Ab.top=y+"px",Ab.visibility="hidden"}var Bb=document.getElementById("buttonEditSave");if(Bb){v+=k+1,Z.Utils.z213(Bb,i,j);var Cb=Bb.style;Cb.left=v+"px",Cb.top=y+"px",Cb.visibility="hidden"}var Db=document.getElementById("progressTextBox");if(Db){var Eb=Db.style;Eb&&(r?Eb.display="none":(Eb.display="inline-block",Eb.width=t+"px",Eb.height=u+"px",Eb.left=c-parseFloat(O.style.left)-parseFloat(Eb.width)+"px",Eb.top=(d-parseFloat(Eb.height))/2+"px"))}}function z(a){Z.toolbarVisible<4&&!Z.mobileDevice?A(a):B(!a)}function A(a){f&&(a?f.display="inline-block":f.display="none")}function B(a){if(f){var b=document.getElementById("buttonContainer"),c=document.getElementById("background"),d=document.getElementById("buttonMinimize"),e=document.getElementById("buttonExpand"),g=document.getElementById("logoDivider"),h=0;s||(h=parseFloat(e.style.left)+parseFloat(e.style.width)+4);var i=Z.toolbarCurrentW;a?(b.style.display="none",s||(g&&(g.style.display="none"),d.style.display="none",e.style.display="inline-block"),f.width=h+"px",c.style.width=h+"px"):(b.style.display="inline-block",s||(g&&(g.style.display="inline-block"),d.style.display="inline-block",e.style.display="none"),f.width=i+"px",c.style.width=i+"px")}}function C(a){if(Z.sliderVisible){g||(g=document.getElementById("trackSlider")),h||(h=g.style),i||(i=document.getElementById("buttonSlider")),j||(j=i.style);if(h&&j){var b=Z.maxZ-Z.minZ,c=(a-Z.minZ)/b;trackL=parseFloat(h.left),trackR=parseFloat(h.left)+parseFloat(h.width)-parseFloat(j.width);var d=trackR-trackL,e=c*d+trackL;j.left=e+"px"}}}function D(b){g||(g=document.getElementById("trackSlider")),h||(h=g.style);if(g&&h){var c,d=Z.Utils.getElementPosition(g);Z.mobileDevice?c=Z.Utils.getMousePosition(b).x-d.x:c=b.clientX-d.x;var e=H(c,0,parseFloat(h.width));e<Z.minZ+.1&&(e=Z.minZ),e>Z.maxZ-.1&&(e=Z.maxZ),a.z394(e),a.updateView()}}function E(a){m=!0,i||(i=document.getElementById("buttonSlider"));if(i){var b=Z.Utils.getMousePosition(a);i.mouseXPrior=b.x,i.mouseYPrior=b.y}}function F(b){g||(g=document.getElementById("trackSlider")),h||(h=g.style),i||(i=document.getElementById("buttonSlider")),j||(j=i.style);if(h&&i&&j){trackL=parseFloat(h.left),trackR=parseFloat(h.left)+parseFloat(h.width)-parseFloat(j.width);var c=parseFloat(j.left)+(o.x-i.mouseXPrior);c<trackL?c=trackL:c>trackR?c=trackR:i.mouseXPrior=o.x,j.left=c+"px";var d=H(c,trackL,trackR);a.z394(d)}}function G(){m=!1,a.updateView()}function H(a,b,c){var d=c-b,e=(a-b)/d,f=Z.maxZ-Z.minZ,g=Z.minZ+f*e;return g}function I(a){var a=Z.Utils.event(a),b=Z.Utils.relatedTarget(a);if(!m&&b){var c=b.parentNode;K(c)}}function J(a){Z.mobileDevice&&a.preventDefault();var a=Z.Utils.event(a),b=Z.Utils.target(a),c=Z.Utils.relatedTarget(a);if(b){var d=b.parentNode;d&&(targetParentID=d.id)}if(c){var e=c.parentNode;e&&(relatedTargetParentID=e.id)}if(!m||a.type=="mouseup"||a.type=="touchend"||a.type=="touchcancel")N(),b&&!Z.Utils.z324(a)&&(targetParentID&&targetParentID!="trackSlider"&&a.type!="mousemove"&&(O(a),P(a)),Q(a))}function K(b){a&&a.z448(),b&&Z.Utils.isStrVal(b.id)&&(b.id.indexOf("button")!=-1?(L(b),M(b,null)):b.id.indexOf("background")!=-1&&N())}function L(a){Z.Utils.removeEventListener(a,"mousedown",J),Z.Utils.removeEventListener(a,"mouseup",J),Z.Utils.removeEventListener(a,"mouseout",J),Z.Utils.addEventListener(a,"mouseover",J)}function M(a,b){var c=document.getElementById(a._imgUpID),d=document.getElementById(a._imgOverID),e=document.getElementById(a._imgDownID);c&&(c.style.visibility=b!==null?b:"visible"),d&&(d.style.visibility="hidden"),e&&(e.style.visibility="hidden")}function N(){var a=Z.ToolbarDisplay.childNodes,b=null;for(var c=0,d=a.length;c<d;c++){b=a[c];if(b.id&&b.id.indexOf("button")!=-1)if(b.id!="buttonContainer")L(b),M(b,null);else{var e=b.childNodes,f=null;for(var g=0,h=e.length;g<h;g++)f=e[g],f.id&&f.id.indexOf("button")!=-1&&(!Z.editMode||f.id!="buttonEditMode"&&f.id!="buttonEditCancel"&&f.id!="buttonEditDelete"&&f.id!="buttonEditSave")&&(L(f),M(f,null))}}}function O(a){var b=Z.Utils.target(a);if(b){var c=b.parentNode;c&&(Z.mobileDevice?(Z.Utils.removeEventListener(c,"touchstart",J),Z.Utils.removeEventListener(c,"touchend",J),Z.Utils.removeEventListener(c,"touchcancel",J)):(Z.Utils.removeEventListener(c,"mouseover",J),Z.Utils.removeEventListener(c,"mousedown",J),Z.Utils.removeEventListener(c,"mouseup",J),Z.Utils.removeEventListener(c,"mouseout",J)))}}function P(a){var b=Z.Utils.target(a);if(b){var c=Z.Utils.target(a).parentNode;if(c)if(!c._imgUpID)K(c);else{var d=document.getElementById(c._imgUpID),e=document.getElementById(c._imgOverID),f=document.getElementById(c._imgDownID);if(d&&e&&f){var g=d.style,h=e.style,i=f.style;g.visibility="hidden",h.visibility="hidden",i.visibility="hidden";switch(a.type){case"mouseover":h.visibility="visible";break;case"mousedown":i.visibility="visible";break;case"mousemove":i.visibility="visible";break;case"mouseup":h.visibility="visible";break;case"mouseout":g.visibility="visible";break;case"touchstart":i.visibility="visible";break;case"touchend":g.visibility="visible";break;case"touchcancel":g.visibility="visible"}}}}}function Q(c){var d=Z.Utils.target(c).parentNode;if(d){var e=d.id;switch(c.type){case"mouseover":Z.Utils.addEventListener(d,"mousedown",J);break;case"mousedown":Z.Utils.addEventListener(d,"mouseup",J);if(a)switch(e){case"buttonMinimize":b.minimize(!0),Z.Navigator.setVisibility(!1);break;case"buttonExpand":b.minimize(!1),Z.Navigator.setVisibility(!0);break;case"buttonZoomOut":a.zoom("out");break;case"buttonSlider":E(c),R(c),Z.Utils.addEventListener(document,"mousemove",R),n||(n=window.setInterval(F,l)),Z.Utils.addEventListener(document,"mouseup",J);break;case"trackSlider":D(c);break;case"buttonZoomIn":a.zoom("in");break;case"buttonPanLeft":a.pan("left");break;case"buttonPanUp":a.pan("up");break;case"buttonPanDown":a.pan("down");break;case"buttonPanRight":a.pan("right");break;case"buttonReset":a.reset()}break;case"mouseup":Z.Utils.addEventListener(d,"mousedown",J),a&&(e=="buttonSlider"||m?(n&&(window.clearInterval(n),n=null),G(),Z.Utils.removeEventListener(document,"mousemove",R),Z.Utils.removeEventListener(document,"mouseup",J),N()):e=="buttonZoomOut"||e=="buttonZoomIn"?a.zoom("stop"):e=="buttonPanLeft"||e=="buttonPanRight"?a.pan("horizontalStop"):e=="buttonPanUp"||e=="buttonPanDown"?a.pan("verticalStop"):e=="buttonFullPage"?a.toggleFullPageView():e=="buttonEditMode"?a.togglePolygonEditing():e=="buttonEditDelete"?a.deleteCurrentLabel():e=="buttonEditCancel"?a.cancelLabelEdits():e=="buttonEditSave"&&a.saveAnnotations());break;case"mouseout":Z.Utils.addEventListener(d,"mouseover",J),a&&(e=="buttonZoomOut"||e=="buttonZoomIn"?a.zoom("stop"):e=="buttonPanLeft"||e=="buttonPanRight"?a.pan("horizontalStop"):(e=="buttonPanUp"||e=="buttonPanDown")&&a.pan("verticalStop"));break;case"touchstart":Z.Utils.addEventListener(d,"touchend",J),Z.Utils.addEventListener(d,"touchcancel",J);if(a)switch(e){case"buttonMinimize":b.minimize(!0),Z.Navigator.setVisibility(!1);break;case"buttonExpand":b.minimize(!1),Z.Navigator.setVisibility(!0);break;case"buttonZoomOut":a.zoom("out");break;case"buttonSlider":E(c),S(c),Z.Utils.addEventListener(document,"touchmove",S),n||(n=window.setInterval(F,l)),Z.Utils.addEventListener(d,"touchend",J),Z.Utils.addEventListener(d,"touchcancel",J);break;case"trackSlider":D(c);break;case"buttonZoomIn":a.zoom("in");break;case"buttonPanLeft":a.pan("left");break;case"buttonPanUp":a.pan("up");break;case"buttonPanDown":a.pan("down");break;case"buttonPanRight":a.pan("right");break;case"buttonReset":a.reset()}break;case"touchend":Z.Utils.addEventListener(d,"touchstart",J),a&&(e=="buttonZoomOut"||e=="buttonZoomIn"?(a.zoom("stop"),Z.debug==0&&e=="buttonZoomOut"&&c.altKey&&Z.Utils.z404()):e=="buttonSlider"?(n&&(window.clearInterval(n),n=null),G(),Z.Utils.removeEventListener(document,"touchmove",S)):e=="buttonPanLeft"||e=="buttonPanRight"?a.pan("horizontalStop"):e=="buttonPanUp"||e=="buttonPanDown"?a.pan("verticalStop"):e=="buttonFullPage"?a.toggleFullPageView():e=="buttonEditMode"?a.togglePolygonEditing():e=="buttonEditDelete"?a.deleteCurrentLabel():e=="buttonEditCancel"?a.cancelLabelEdits():e=="buttonEditSave"&&a.saveAnnotations());break;case"touchcancel":Z.Utils.addEventListener(d,"touchstart",J),a&&(e=="buttonZoomOut"||e=="buttonZoomIn"?(a.zoom("stop"),Z.debug==0&&e=="buttonZoomOut"&&c.altKey&&Z.Utils.z404()):e=="buttonSlider"?(n&&(window.clearInterval(n),n=null),G(),Z.Utils.removeEventListener(document,"touchmove",S)):e=="buttonPanLeft"||e=="buttonPanRight"?a.pan("horizontalStop"):e=="buttonPanUp"||e=="buttonPanDown"?a.pan("verticalStop"):e=="buttonFullPage"?a.toggleFullPageView():e=="buttonEditMode"?a.togglePolygonEditing():e=="buttonEditDelete"?a.deleteCurrentLabel():e=="buttonEditCancel"?a.cancelLabelEdits():e=="buttonEditSave"&&a.saveAnnotations())}}}function R(a){o=new Z.Utils.Point(a.clientX,a.clientY)}function S(a){var b=Z.Utils.getFirstTouch(a);if(b){var c=b.target;o=new Z.Utils.Point(b.pageX,b.pageY)}}var b=this,c=!1;Z.skinPath=Z.Utils.z392(Z.skinPath);var d=new Z.NetConnector;d.loadXML(Z.skinPath+"/"+Z.Utils.z285("z111"));var e,f,g,h,i,j,k=[],l=parseInt(Z.Utils.z285("z113"),10),m=!1,n=null,o=null,p=null,q,r,s;this.z284=function(){return v()},this.setSizeAndPosition=function(a,b,c,d){x(a,b,c,d)},this.show=function(a){z(a)},this.setVisibility=function(a){A(a)},this.minimize=function(a){B(a)},this.z406=function(){var a=document.getElementById("progressTextBox");if(a){var b=a.style;b&&(b.display="inline-block")}},this.hideProgress=function(){var a=document.getElementById("progressTextBox");if(a){var b=a.style;b&&(b.display="none")}},this.updateProgress=function(a,b){if(Z.progressVisible){p&&window.clearInterval(p);var c,d=document.getElementById("progressTextBox").firstChild.firstChild.firstChild.firstChild;d&&(a==0||b==0?(d.nodeValue="llllllllll",p=window.setInterval(u,parseInt(Z.Utils.z285("z107")),10)):(c=Math.round(100-b/a*100),d.nodeValue="l".multiply(Math.round(c/10))))}},this.z369=function(a){Z.skinMode=a.getElementsByTagName("SETUP")[0].attributes.getNamedItem("SKINMODE").nodeValue;var b,c;Z.skinMode==1||Z.skinMode==0&&!Z.mobileDevice?(b=a.getElementsByTagName("SETUP")[0].attributes.getNamedItem("FOLDERSTANDARD").nodeValue,c="SIZESSTANDARD"):(b=a.getElementsByTagName("SETUP")[0].attributes.getNamedItem("FOLDERLARGE").nodeValue,c="SIZESLARGE");var d=[];d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("TOOLBARW").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("TOOLBARH").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("LOGOW").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("LOGOH").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("DIVIDERW").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("DIVIDERH").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("BUTTONW").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("BUTTONH").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("BUTTONSPAN").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("SLIDERBUTTONW").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("SLIDERBUTTONH").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("SLIDERTRACKW").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("SLIDERTRACKH").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("SLIDERSPAN").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("PROGRESSW").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("PROGRESSH").nodeValue)),d.push(parseFloat(a.getElementsByTagName(c)[0].attributes.getNamedItem("PROGRESSFONTSIZE").nodeValue));var e=[],f,g,h,i,j;f=Z.editMode?51:39,g=a.getElementsByTagName("FILES")[0].attributes.getNamedItem("SKIN0"),g!==null&&(h=g.nodeValue),i=a.getElementsByTagName("FILES")[0].attributes.getNamedItem("SKIN"+f.toString()),i!==null&&(j=i.nodeValue);if(typeof h!="undefined"&&Z.Utils.isStrVal(h)&&typeof j!="undefined"&&Z.Utils.isStrVal(j)){var k=!1;for(var l=0;l<f+1;l++){var m=a.getElementsByTagName("FILES")[0].attributes.getNamedItem("SKIN"+l).nodeValue;Z.Utils.isStrVal(m)?e[l]=b+"/"+m:(e[l]="null",k=!0)}k&&Z.Utils.z405(Z.Utils.z285("z160")),t(d,e)}else Z.Utils.z405(Z.Utils.z285("z159"))},this.z418=function(a){C(a)},this.z210=function(a,b){M(a,b)}},Z.ZoomifyNavigator=function(a){function x(a){Z.NavigatorDisplay=Z.Utils.z248("div","NavigatorDisplay","inline-block","absolute","hidden",o+"px",p+"px",q+"px",r+"px","solid","1px","transparent none","0px","0px","normal"),e=Z.NavigatorDisplay,f=e.style;var b=Z.Utils.z285("z86"),c=Z.Utils.z285("z86NOALPHA"),d=Z.Utils.z248("div","navigatorBackground","inline-block","absolute","hidden",o+"px",p+"px","0px","0px","none","0px",b,"0px","0px","normal");Z.Utils.z398(d,v,c),Z.NavigatorDisplay.appendChild(d),g=d,h=g.style;var t=Z.Utils.z248("div","navigatorImageContainer","inline-block","absolute","hidden",o+"px",p+"px","0px","0px","none","0px","transparent none","0px","0px","normal");t.appendChild(n),Z.NavigatorDisplay.appendChild(t),i=t,j=i.style,k=n;var u=Z.Utils.z248("div","navigatorRectangle","inline-block","absolute","hidden",o+1+"px",p+1+"px",q+"px",r+"px","solid","1px","transparent none","0px","0px","normal");u.style.borderColor=Z.Utils.z285("z91"),Z.NavigatorDisplay.appendChild(u),l=u,m=l.style,Z.ViewerDisplay.appendChild(Z.NavigatorDisplay),D(o,p,q,r,s),I(Z.navigatorVisible==1||Z.navigatorVisible==2),G(),Z.mobileDevice?(Z.Utils.addEventListener(e,"touchstart",Q),Z.Utils.addEventListener(e,"touchmove",R),Z.Utils.addEventListener(e,"touchend",S),Z.Utils.addEventListener(e,"touchcancel",T)):(Z.Utils.addEventListener(k,"mousedown",Z.Utils.preventDefault),Z.Utils.addEventListener(e,"mousedown",Z.Utils.preventDefault),Z.Utils.addEventListener(e,"mouseover",Z.Utils.stopPropagation),Z.Utils.addEventListener(e,"mousedown",N)),Z.Utils.addEventListener(n,"contextmenu",Z.Utils.preventDefault),Z.Utils.addEventListener(d,"contextmenu",Z.Utils.preventDefault),Z.Utils.addEventListener(u,"contextmenu",Z.Utils.preventDefault),C(!0),H()}function y(a){Z.tileSource=="ZoomifyImageFolder"?w=Z.Utils.z215(Z.imagePath+"/TileGroup0/"+"0-0-0.jpg"):Z.tileSource=="ZoomifyImageFile"&&(w=Z.Viewport.z279(0,0,0)),n=null,n=new Image,n.onload=a,n.onerror=M;if(w!="offsetLoading")n.src=w;else var b=window.setTimeout(function(){y(a)},100)}function z(a){i.appendChild(n),k=Z.NavigatorDisplay.childNodes[1].firstChild,D(o,p,q,r,s),I(Z.navigatorVisible==1||Z.navigatorVisible==2),G(),H()}function A(){if(B()){d&&(window.clearInterval(d),d=null);if(!e||!f||!g||!h||!i||!j||!k||!l||!m)e=Z.NavigatorDisplay,f=e.style,g=Z.NavigatorDisplay.childNodes[0],h=g.style,i=Z.NavigatorDisplay.childNodes[1],j=i.style,k=Z.NavigatorDisplay.childNodes[1].firstChild,l=Z.NavigatorDisplay.childNodes[2],m=l.style}}function B(){return c}function C(a){c=a}function D(a,b,c,d,g){a||(a=Z.navigatorW),b||(b=Z.navigatorH);if(typeof c=="undefined"||c===null)c=0;if(typeof d=="undefined"||d===null)d=0;e||(e=Z.NavigatorDisplay),f||(f=e.style),k=e.childNodes[1].firstChild;if(e&&f&&k){if(g){var h=1,i=1;g==0?i=Z.viewerW/Z.viewerH:i=k.width/k.height,h>1?(b=a,b/=i):(a=b,a*=i)}f.width=a+"px",f.height=b+"px",f.left=c-1+"px",f.top=d-1+"px",E(a,b)}}function E(a,b){h||(h=Z.NavigatorDisplay.firstChild.style),j||(j=Z.NavigatorDisplay.childNodes[1].style),k||(k=Z.NavigatorDisplay.childNodes[1].firstChild),h&&j&&k&&(h.width=a+"px",h.height=b+"px",F(a,b,k.width,k.height),j.width=k.width+"px",j.height=k.height+"px",j.left=(a-parseFloat(j.width))/2+"px",j.top=(b-parseFloat(j.height))/2+"px",H())}function F(a,b,c,d){k||(k=Z.NavigatorDisplay.childNodes[1].firstChild);if(k){var e=c/d,f=a/c,g=b/d,h=0,i=0;f<=g?(c=a,d=a/e,i=(b-d*(a/c))/2):g<f&&(d=b,c=b*e,h=(a-c*(b/d))/2),k.width=c,k.height=d}}function G(){f||(f=Z.NavigatorDisplay.style),f&&(f.zIndex=f.zIndex+100)}function H(){if(Z.Viewport&&Z.Viewport.z284()){J();var a=Z.Viewport.z217();K(a)}}function I(a){f||(f=Z.NavigatorDisplay.style),f&&(a?f.display="inline-block":f.display="none")}function J(){if(k&&m){var a=k.width/Z.imageW,b=k.height/Z.imageH,c=Z.Viewport.getZoom(),d=Z.viewerW*a/c,e=Z.viewerH*b/c;m.width=d+"px",m.height=e+"px"}}function K(a){if(k&&m&&j){var b=k.width/Z.imageW,c=k.height/Z.imageH,d=a.x*b,e=a.y*c,f=d-parseFloat(m.width)/2,g=e-parseFloat(m.height)/2;m.left=Math.round(f+parseFloat(j.left))+"px",m.top=Math.round(g+parseFloat(j.top))+"px"}}function L(){if(m&&j&&k){var a=parseFloat(m.left)-parseFloat(j.left),b=parseFloat(m.top)-parseFloat(j.top),c=a+(parseFloat(m.width)-1)/2,d=b+(parseFloat(m.height)-1)/2,e=Z.imageW/k.width,f=Z.imageH/k.height,g=c*e,h=d*f;Z.Viewport.z419(g,h)}}function M(){Z.Utils.z405(Z.Utils.z285("z156"))}function N(a){Z.Viewport.z448();if(e&&l&&m){var a=Z.Utils.event(a);l.mouseXPrior=a.clientX,l.mouseYPrior=a.clientY,dragPtStart=new Z.Utils.Point(a.clientX,a.clientY),Z.Utils.addEventListener(e,"mousemove",O),Z.Utils.addEventListener(e,"mouseup",P),Z.Utils.addEventListener(document,"mouseup",P)}}function O(a){if(l&&m){var b=parseFloat(m.left),c=parseFloat(m.top);return m.left=b+(a.clientX-l.mouseXPrior)+"px",m.top=c+(a.clientY-l.mouseYPrior)+"px",l.mouseXPrior=a.clientX,l.mouseYPrior=a.clientY,L(),!1}}function P(a){if(e&&l&&m){document.mousemove=null,document.mouseup=null,Z.Utils.removeEventListener(e,"mousemove",O),Z.Utils.removeEventListener(e,"mouseup",P),Z.Utils.removeEventListener(document,"mouseup",P);var a=Z.Utils.event(a),b=new Z.Utils.Point(a.clientX,a.clientY),c=Z.Utils.calculatePointsDistance(dragPtStart.x,dragPtStart.y,b.x,b.y,2);if(c<4){var d=Z.Utils.getElementPosition(Z.NavigatorDisplay);m.left=a.clientX-d.x-parseFloat(m.width)/2+"px",m.top=a.clientY-d.y-parseFloat(m.height)/2+"px"}L(),Z.Viewport.updateView()}}function Q(a){a.preventDefault();if(e&&l&&m){var b=Z.Utils.getFirstTouch(a);if(b){var c=b.target,d=new Z.Utils.Point(b.pageX,b.pageY);dragPtStart=new Z.Utils.Point(d.x,d.y),l.mouseXPrior=d.x,l.mouseYPrior=d.y}}}function R(a){a.preventDefault();if(!Z.mousePan)return;if(l&&m){var b=Z.Utils.getFirstTouch(a);if(b){var c=b.target,d=new Z.Utils.Point(b.pageX,b.pageY),e=parseFloat(m.left),f=parseFloat(m.top);return m.left=e+(d.x-l.mouseXPrior)+"px",m.top=f+(d.y-l.mouseYPrior)+"px",l.mouseXPrior=d.x,l.mouseYPrior=d.y,L(),!1}}return!1}function S(a){if(e&&l&&m){var b=Z.Utils.getFirstTouch(a);if(b){var c=b.target,d=new Z.Utils.Point(b.pageX,b.pageY),f=new Z.Utils.Point(d.x,d.y),g=Z.Utils.calculatePointsDistance(dragPtStart.x,dragPtStart.y,f.x,f.y,2),h=Z.mobileDevice?6:3;if(g<h){var i=Z.Utils.getElementPosition(Z.NavigatorDisplay);m.left=d.x-i.x-parseFloat(m.width)/2+"px",m.top=d.y-i.y-parseFloat(m.height)/2+"px"}}L(),Z.Viewport.updateView()}}function T(a){if(e&&l&&m){var b=Z.Utils.getFirstTouch(a);if(b){var c=b.target,d=new Z.Utils.Point(b.pageX,b.pageY),f=new Z.Utils.Point(d.x,d.y),g=Z.Utils.calculatePointsDistance(dragPtStart.x,dragPtStart.y,f.x,f.y,2),h=Z.mobileDevice?6:3;if(g<h){var i=Z.Utils.getElementPosition(Z.NavigatorDisplay);m.left=d.x-i.x-parseFloat(m.width)/2+"px",m.top=d.y-i.y-parseFloat(m.height)/2+"px"}}L(),Z.Viewport.updateView()}}var b=this,c=!1,d,e,f,g,h,i,j,k,l,m,n,o=Z.navigatorW,p=Z.navigatorH,q=Z.navigatorL-1,r=Z.navigatorT-1,s=Z.navigatorFit,t,u=null,v=parseFloat(Z.Utils.z285("z85")),w;y(x),this.setImagePath=function(a){i.removeChild(n),y(z)},this.z284=function(){return B()},this.setSizeAndPosition=function(a,b,c,d,e){e||(e=s),D(a,b,c,d,e)},this.setVisibility=function(a){I(a)},this.z420=function(){H()},this.z416=function(){J()},this.z417=function(a){K(a)},this.z432=function(){B()?A():d=window.setInterval(A,300)}},Z.NetConnector=function(){function c(a,b,c){var d=null,e=typeof b=="function";if(e)var f=b,b=function(){window.setTimeout(Z.Utils.createCallback(null,f,d),1)};if(window.ActiveXObject){var g=["Msxml2.XMLHTTP","Msxml3.XMLHTTP","Microsoft.XMLHTTP"];for(var h=0;h<g.length;h++)try{d=new ActiveXObject(g[h]);break}catch(i){continue}}else window.XMLHttpRequest&&(d=new XMLHttpRequest);d||Z.Utils.z405(Z.Utils.z285("z169")),e&&(d.onreadystatechange=function(){d.readyState==4&&(d.onreadystatechange=new Function,b())});try{c===null?(d.open("GET",a,e),d.send(null)):(Z.z380=!0,d.open("POST",a,!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.setRequestHeader("Content-length",params.length),d.setRequestHeader("Connection","close"),d.send(params))}catch(i){a.indexOf("ImageProperties.xml")!=-1?Z.Utils.z405(Z.Utils.z285("z148-IMAGEXML")):a.toUpperCase().indexOf(".PFF")!=-1?Z.Utils.z405(Z.Utils.z285("z148-IMAGEHEADER")):a.toUpperCase().indexOf("reply_data")!=-1?Z.Utils.z405(Z.Utils.z285("z148-IMAGEOFFSET")):a.indexOf(Z.Utils.z285("z111"))!=-1?Z.Utils.z405(Z.Utils.z285("z148-TOOLBARXML")):a.indexOf(Z.Utils.z285("z71"))!=-1?Z.Utils.z405(Z.Utils.z285("z148-HOTSPOTSXML")):a.indexOf(Z.Utils.z285("z34"))!=-1?Z.Utils.z405(Z.Utils.z285("z148-ANNOTATIONSXML")):a.toUpperCase().indexOf(Z.Utils.z285("DEFAULT_ANNOTATIONSXMLSAVEHANDLERNAME1"))!=-1||a.toUpperCase().indexOf(Z.Utils.z285("DEFAULT_ANNOTATIONSXMLSAVEHANDLERNAME1"))!=-1?Z.Utils.z405(Z.Utils.z285("z148-ANNOTATIONSSAVEHANDLER")):Z.Utils.z405(Z.Utils.z285("z148")),d.onreadystatechange=null,d=null}return e?null:d}function d(a){if(!a)Z.Utils.z405(Z.Utils.z285("z157"));else if(a.status!==200&&a.status!==0){var b=a.status,c=b==404?"Not Found":a.statusText;Z.Utils.z405(Z.Utils.z285("z158")+b+" - "+c)}else{var d=null;if(a.responseXML&&a.responseXML.documentElement)d=a.responseXML,e(d);else if(a.responseText){var f=a.responseText;if(Z.z380)Z.z380=!1,Z.Utils.z405(Z.Utils.z285("z1")),Z.Viewport&&Z.Viewport.setAllHotspotsSaved();else if(Z.tileSource=="ZoomifyImageFolder")d=Z.Utils.z241(f),e(d);else if(Z.tileSource=="ZoomifyImageFile"){if(f.toUpperCase().indexOf("PFFHEADER")!=-1){var g=f.indexOf("reply_data=")+"reply_data=".length;f=f.substring(g,f.length)}else{var h=f.indexOf("begin=")+"begin=".length,i=f.indexOf("&",h);beginValue=f.substring(h,i);var j=f.indexOf("reply_data=")+"reply_data=".length;replyDataValue=f.substring(j,f.length),f='<PFFOFFSET BEGIN="'+beginValue+'" REPLYDATA="'+replyDataValue+'" />'}d=Z.Utils.z241(f),e(d)}}}}function e(a){if(a&&a.documentElement){var b=a.documentElement.tagName;b=="COPYRIGHT"?f("copyright",a):b=="IMAGE_PROPERTIES"||b=="PFFHEADER"?f("image",a):b=="PFFOFFSET"?f("offset",a):b=="SKINDATA"?f("skin",a):b=="DATA"?f("hotspots",a):b=="ZAS"?f("annotations",a):Z.Utils.z405(Z.Utils.z285("z170"))}else Z.Utils.z405(Z.Utils.z285("z167"))}function f(a,b){if(a=="copyright"){var c=b.documentElement.getAttribute("STATEMENTTEXT"),d=b.documentElement.getAttribute("DECLINEDTEXT");Z.Utils.isStrVal(c)?Z.Utils.z403(c,d):Z.Utils.z405(Z.Utils.z285("z147"))}else a=="image"?(Z.tileSource=="ZoomifyImageFolder"||Z.tileSource=="ZoomifyImageFile"||Z.tileSource=="OtherTileSource")&&Z.Viewport&&Z.Viewport.z366(b):a=="offset"?Z.Viewport&&Z.Viewport.z367(b):a=="skin"?Z.Toolbar&&Z.Toolbar.z369(b):a=="hotspots"?Z.Viewport&&Z.Viewport.z365(b):a=="annotations"&&Z.Viewport&&Z.Viewport.z364(b)}function g(b,c,d){a--;if(typeof b=="function")try{b(d)}catch(e){Z.Utils.z405(e.name+Z.Utils.z285("z140")+c+" "+e.message)}}function h(a,c,d){function g(b){e.onload=null,e.onabort=null,e.onerror=null,f&&window.clearTimeout(f),window.setTimeout(function(){c(a,b?e:null)},1)}var e=null,f=null;this.start=function(){e=new Image;var c=function(){g(!0)},h=function(){g(!1)},i=function(){Z.Utils.z405(Z.Utils.z285("z145")+a),g(!1),Z.debug==2&&Z.Utils.trace("Image request for "+d+" timeout: "+a)};e.onload=c,e.onabort=h,e.onerror=h,f=window.setTimeout(i,b),e.src=a}}var a=0,b=parseFloat(Z.Utils.z285("z72"));this.loadXML=function(a){c(a,d,null)},this.postXML=function(a,b){c(a,d,b)},this.loadImage=function(b,c,d){if(a>=parseInt(Z.Utils.z285("z73"),10))return!1;var e=Z.Utils.createCallback(null,g,c),f=new h(b,e,d);return a++,f.start(),!0}},Z.Utils={z258:function(){Z.z361=null,Z.imagePath=null,Z.skinPath=null,Z.skinMode=null,Z.parameters=null,Z.browsers=null,Z.browser=null,Z.browserVersion=null,Z.z223=null,Z.cssTransformsSupported=null,Z.cssTransformProperty=null,Z.cssTransformNoUnits=null,Z.alphaSupported=null,Z.renderQuality=null,Z.mobileDevice=null,Z.initialX=null,Z.initialY=null,Z.initialZ=null,Z.minZ=null,Z.maxZ=null,Z.zoomSpeed=null,Z.panSpeed=null,Z.fadeInSpeed=null,Z.toolbarVisible=null,Z.toolbarW=null,Z.toolbarH=null,Z.toolbarPosition=null,Z.navigatorVisible=null,Z.navigatorW=null,Z.navigatorH=null,Z.navigatorL=null,Z.navigatorT=null,Z.navigatorFit=null,Z.clickZoom=null,Z.clickPan=null,Z.mousePan=null,Z.keys=null,Z.constrainPan=null,Z.tooltipsVisible=null,Z.watermarkPath=null,Z.z245=null,Z.hotspotPath=null,Z.hotspotListTitle=null,Z.annotationPath=null,Z.saveHandlerPath=null,Z.z380=!1,Z.sliderVisible=null,Z.fullPageVisible=null,Z.fullPageInitial=null,Z.progressVisible=null,Z.logoVisible=null,Z.logoCustomPath=null,Z.canvas=null,Z.debug=null,Z.imageProperties=null,Z.serverIP=null,Z.serverPort=null,Z.tileHandlerPath=null,Z.tileHandlerPathFull=null,Z.tileSource=null,Z.editMode=!1,Z.z375=!1,Z.Viewer=null,Z.ViewerDisplay=null,Z.Viewport=null,Z.Toolbar=null,Z.ToolbarDisplay=null,Z.TooltipDisplay=null,Z.Navigator=null,Z.NavigatorDisplay=null,Z.MessageDisplay=null,Z.CopyrightDisplay=null,Z.AnnotationPanelDisplay=null,Z.imageW=null,Z.imageH=null,Z.imageX=0,Z.imageY=0,Z.imageZ=0,Z.fitZ=null,Z.z454="stop",Z.z362="stop",Z.z363="stop",Z.fullPage=!1,Z.useCanvas=!0,Z.TraceDisplay=null,Z.traces=null},z275:function(){var a=this.z384("imageCopyright");a?Z.Viewer.z229():this.z332()},z332:function(){var a=new Z.NetConnector;a.loadXML(Z.z245)},z403:function(a,b){var c=this.z285("z51"),d=this.z285("z49");Z.CopyrightDisplay=this.z248("div","CopyrightDisplay","inline-block","absolute","hidden",Z.viewerW-2+"px",Z.viewerH-2+"px","0px","0px","solid","1px",c,"0px","0px","normal"),Z.ViewerDisplay.appendChild(Z.CopyrightDisplay);var e=440,f=200,g=parseFloat(Z.CopyrightDisplay.style.width)/2-e/2,h=parseFloat(Z.CopyrightDisplay.style.height)/2-f/2,i=this.z248("div","textBox","inline-block","absolute","hidden",e+"px",f+"px",g+"px",h+"px","none","0px","transparent none","0px","0px","normal");i.id="textBox",Z.CopyrightDisplay.appendChild(i);var j=document.createTextNode(a);i.appendChild(this.z247(j)),this.z401(j,"black","verdana","16px","none","normal","normal","normal","normal","1em","justify","none");var k=document.createTextNode(b);i.appendChild(k);var l=80,m=20,n=30,o=20,p=g+e/2-(l*2+n)/2,q=h+f+o,r=this.z285("z48"),s=new Z.Utils.Button("buttonAgree",r,null,null,null,null,l+"px",m+"px",p+"px",q+"px","mousedown",this.z243,"z175","solid","1px",d,"0px","0px");Z.CopyrightDisplay.appendChild(s.elmt),p+=l+n,r=this.z285("z50");var t=new Z.Utils.Button("buttonExit",r,null,null,null,null,l+"px",m+"px",p+"px",q+"px","mousedown",this.z244,"z176","solid","1px",d,"0px","0px");Z.CopyrightDisplay.appendChild(t.elmt)},hideCopyright:function(){var a=document.getElementById("textBox"),b=a.childNodes[1].nodeValue;a.firstChild.firstChild.firstChild.firstChild.nodeValue=b;var c=document.getElementById("buttonAgree");this.removeEventListener(c,"mousedown",this.z243),Z.CopyrightDisplay.removeChild(c);var d=document.getElementById("buttonExit");this.removeEventListener(d,"mousedown",this.z244),Z.CopyrightDisplay.removeChild(d)},z243:function(a){Z.ViewerDisplay.removeChild(Z.CopyrightDisplay),document.cookie="imageCopyright=confirmed",Z.Viewer.z229()},z244:function(a){Z.Utils.hideCopyright();return},Button:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=Z.Utils.z248("span",a,"inline-block","absolute","hidden",g,h,i,j,n,o,p,q,r,s,t);if(!Z.Utils.isStrVal(b)){c=Z.Utils.z392(c);var v=Z.Utils.z250(c+"/"+d),w=Z.Utils.z250(c+"/"+e),x=Z.Utils.z250(c+"/"+f);v.id=u.id+"-imgUp",w.id=u.id+"-imgOver",x.id=u.id+"-imgDown",u._imgUpID=v.id,u._imgOverID=w.id,u._imgDownID=x.id;var y=v.style,z=w.style,A=x.style;y.position=z.position=A.position="absolute",y.width=z.width=z.width=g,y.height=z.height=z.height=h,y.top=z.top=A.top="0px",y.left=z.left=A.left="0px",Z.browser==Z.browsers.FIREFOX&&Z.browserVersion<3&&(y.top=z.top=A.top=""),z.visibility="hidden",A.visibility="hidden",u.appendChild(v),u.appendChild(w),u.appendChild(x),Z.Utils.addEventListener(v,"contextmenu",Z.Utils.preventDefault),Z.Utils.addEventListener(w,"contextmenu",Z.Utils.preventDefault),Z.Utils.addEventListener(x,"contextmenu",Z.Utils.preventDefault)}else{var B=document.createTextNode(b);u.appendChild(Z.Utils.z247(B)),Z.Utils.z401(B,"black","verdana","13px","none","normal","normal","normal","normal","1em","center","none"),Z.Utils.z260(B),Z.Utils.addEventListener(u,"contextmenu",Z.Utils.preventDefault)}Z.tooltipsVisible&&Z.Utils.isStrVal(m)&&(u.title=Z.Utils.z285(m)),Z.mobileDevice?Z.Utils.addEventListener(u,"touchstart",l):(Z.Utils.addEventListener(u,"mousedown",Z.Utils.preventDefault),Z.Utils.addEventListener(u,"mouseover",Z.Utils.stopPropagation),Z.Utils.addEventListener(u,"mouseout",Z.Utils.stopPropagation),Z.Utils.addEventListener(u,k,l)),this.elmt=u},z213:function(a,b,c){var d=a.style;d.width=b+"px",d.height=c+"px";var e=document.getElementById(a._imgUpID),f=document.getElementById(a._imgOverID),g=document.getElementById(a._imgDownID);if(e&&f&&g){var h=e.style,i=f.style,j=g.style;h.width=b+"px",h.height=c+"px",i.width=b+"px",i.height=c+"px",j.width=b+"px",j.height=c+"px"}},Graphic:function(a,b,c,d,e,f,g){b=Z.Utils.z392(b);var h=c?b+"/"+c:b,i=Z.Utils.z250(h),j=i.style;j.width=d,j.height=e;var c=Z.Utils.z248("span",a,"inline-block","absolute","hidden",d,e,f,g,"none","0px","transparent none","0px","0px","normal");c.appendChild(i),this.elmt=c,Z.mobileDevice?Z.Utils.addEventListener(i,"touchstart",Z.Utils.preventDefault):Z.Utils.addEventListener(i,"mousedown",Z.Utils.preventDefault),Z.Utils.addEventListener(i,"contextmenu",Z.Utils.preventDefault)},z301:function(a,b,c){var d=a.style;d.width=b+"px",d.height=c+"px";var e=a.firstChild,f=e.style;f.width=b+"px",f.height=c+"px"},z202:function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){b?b<0&&(b=Math.max(0,this.length+b)):b=0;for(var c=b,d=this.length;c<d;c++)if(this[c]===a)return c;return-1}),Array.prototype.indexOfObjectValue||(Array.prototype.indexOfObjectValue=function(a,b,c){c?c<0&&(c=Math.max(0,this.length+c)):c=0;for(var d=c,e=this.length;d<e;d++)if(this[d][a]===b)return d;return-1}),Array.prototype.indexOfObjectValueSubstring||(Array.prototype.indexOfObjectValueSubstring=function(a,b,c){c?c<0&&(c=Math.max(0,this.length+c)):c=0;for(var d=c,e=this.length;d<e;d++)if(this[d][a].indexOf(b)!=-1)return d;return-1}),Array.prototype.push||(Array.prototype.push=function(a){this[this.length]=a}),Array.prototype.splice||(Array.prototype.subarr=function(a,b){if(a>=this.length||b&&b<=0)return[];a<0&&(Math.abs(a)>this.length?a=0:a=this.length+a);if(!b||b+a>this.length)b=this.length-a;var c=[];for(var d=a;d<a+b;d++)c.push(this[d]);return c},Array.prototype.subarray=function(a,b){a<0&&(a=0);if(!b||b>this.length)b=this.length;if(a==b)return[];var c=[];for(var d=a;d<b;d++)c.push(this[d]);return c},Array.prototype.splice=function(a,b){b<0&&(b=0);var c=[];if(arguments.length>2)for(var d=2,e=arguments.length;d<e;d++)c.push(arguments[d]);var f=this.subarray(0,a),g=this.subarr(a,b),h=this.subarray(a+b),i=f.concat(c,h);this.length=0;for(var d=0,e=i.length;d<e;d++)this.push(i[d]);return g}),String.prototype.multiply||(String.prototype.multiply=function(){var a=Array.prototype.join,b={};return function(c){return b.length=c+1,a.call(b,this)}}())},z201:function(){document.addEventListener?(this.z260=function(a){a&&(tnS=a.parentNode.style,tnS&&(a.parentNode.unselectable="on",tnS.userSelect="none",tnS.MozUserSelect="none",tnS.webkitUserSelect="none",tnS.webkitTouchCallout="none",tnS.webkitTapHighlightColor="transparent"))},this.renderQuality=function(a,b){if(b){var c=b=="high"?"optimizeQuality":"optimizeSpeed";a.style.setProperty("image-rendering",c,null)}},this.z398=function(a,b,c){Z.alphaSupported?a.style.opacity=b:c&&(a.style.backgroundColor=c)}):document.attachEvent&&(this.z260=function(a){a&&(a.parentNode.unselectable="on",a.parentNode.onselectstart=function(){return!1})},this.renderQuality=function(a,b){if(b){var c=b=="high"?"bicubic":"nearest-neighbor";a.style.msInterpolationMode=c}},this.z398=function(a,b,c){Z.alphaSupported?(b*=100,a.style.zoom=1,a.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+b+")",a.style.filter="alpha(opacity="+b+")",b==100&&(a.style.filter="")):c&&(a.style.backgroundColor=c)})},z200:function(){document.addEventListener?(this.addEventListener=function(a,b,c){b=="mousewheel"&&elmt.addEventListener("DOMMouseScroll",c,!1),a.addEventListener(b,c,!1)},this.removeEventListener=function(a,b,c){b=="mousewheel"&&elmt.addEventListener("DOMMouseScroll",c,!1),a&&a.removeEventListener(b,c,!1)},this.event=function(a){return a},this.target=function(a){return a.target},this.relatedTarget=function(a){return a.relatedTarget},this.z324=function(a){var b=!1;if(a.which==2||a.which==3)b=!0;return b},this.preventDefault=function(a){a.preventDefault()},this.stopPropagation=function(a){a.stopPropagation()}):document.attachEvent&&(this.addEventListener=function(a,b,c){if(this._findListener(a,b,c)!=-1)return;var d=function(){var b=window.event;Function.prototype.call?c.call(a,b):(a._currentListener=c,a._currentListener(b),a._currentListener=null)};a.attachEvent("on"+b,d);var e={target:a,eventName:b,handler:c,handler2:d},f=a.document||a,g=f.parentWindow,h="l"+this._listenerCounter++;g._allListeners||(g._allListeners={}),g._allListeners[h]=e,a._listeners||(a._listeners=[]),a._listeners[a._listeners.length]=h,g._unloadListenerAdded||(g._unloadListenerAdded=!0,g.attachEvent("onunload",this._removeAllListeners))},this.removeEventListener=function(a,b,c){if(a){var d=this._findListener(a,b,c);if(d==-1)return;var e=a.document||a,f=e.parentWindow,g=a._listeners[d],h=f._allListeners[g];a.detachEvent("on"+b,h.handler2),a._listeners.splice(d,1),delete f._allListeners[g]}},this.event=function(a){return window.event},this.target=function(a){return a.srcElement},this.relatedTarget=function(a){var b=null;return a.type=="mouseover"?b=a.fromElement:a.type=="mouseout"&&(b=a.toElement),b},this.z324=function(a){var b=!1;return a.button==2&&(b=!0),b},this.preventDefault=function(a){a&&(a.returnValue=!1)},this.stopPropagation=function(a){a.cancelBubble=!0},this._findListener=function(a,b,c){var d=a._listeners;if(!d)return-1;var e=a.document||a,f=e.parentWindow;for(var g=d.length-1;g>=0;g--){var h=d[g],i=f._allListeners[h];if(i.eventName==b&&i.handler==c)return g}return-1},this._removeAllListeners=function(){var a=this;for(id in a._allListeners){var b=a._allListeners[id];b.target.detachEvent("on"+b.eventName,b.handler2),delete a._allListeners[id]}},this._listenerCounter=0)},z259:function(){Z.browsers={UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5};var a=Z.browsers.UNKNOWN,b=0,c=navigator.appName,d=navigator.appVersion,e=!1,f=!1,g=navigator.userAgent.toLowerCase();if(c!="Microsoft Internet Explorer"||!window.attachEvent||!window.ActiveXObject)if(c!="Netscape"||!window.addEventListener)c=="Opera"&&!!window.opera&&!!window.attachEvent&&(a=Z.browsers.OPERA,b=parseFloat(d));else{var i=g.indexOf("firefox"),j=g.indexOf("safari"),k=g.indexOf("chrome");if(i>=0)a=Z.browsers.FIREFOX,b=parseFloat(g.substring(i+8));else if(j>=0){var l=g.substring(0,j).lastIndexOf("/");a=k>=0?Z.browsers.CHROME:Z.browsers.SAFARI,b=parseFloat(g.substring(l+1,j))}var m=new Image;m.style.getPropertyValue&&(f=m.style.getPropertyValue("image-rendering"))}else{var h=g.indexOf("msie");a=Z.browsers.IE,b=parseFloat(g.substring(h+5,g.indexOf(";",h))),e=typeof document.documentMode!="undefined"}var n=document.documentElement||{},o=n.style||{},p=!1,q=["transform","WebkitTransform","MozTransform"],r,s;while(r=q.shift())if(typeof o[r]!="undefined"){p=!0,s=/webkit/i.test(r);break}var t=document.createElement("canvas").getContext&&document.createElement("canvas").getContext("2d"),u=!(a==Z.browsers.SAFARI&&b<4||a==Z.browsers.CHROME&&b<2),v=t&&u,w=!(a==Z.browsers.CHROME&&b<2),x=e||f?"high":null,y=g.indexOf("android")>-1||g.indexOf("iphone")>-1||g.indexOf("ipad")>-1||g.indexOf("ipod")>-1;Z.browser=a,Z.browserVersion=b,Z.z223=v,Z.useCanvas=Z.z223,Z.cssTransformsSupported=p,Z.cssTransformProperty=r,Z.cssTransformNoUnits=s,Z.alphaSupported=w,Z.renderQuality=x,Z.mobileDevice=y},isStrVal:function(a){return a!=null&&a!=""&&a!="null"},z282:function(){var a=new Date,b=(a.getUTCMonth()+1<10?"0":"")+(a.getUTCMonth()+1),c=(a.getUTCDate()<10?"0":"")+a.getUTCDate(),d=(a.getUTCHours()<10?"0":"")+a.getUTCHours(),e=(a.getUTCMinutes()<10?"0":"")+a.getUTCMinutes(),f=(a.getUTCSeconds()<10?"0":"")+a.getUTCSeconds();return a.getUTCFullYear()+b+c+d+e+f},getElementPosition:function(a){var b=0,c=0,d=this.getElementStyle(a).position=="fixed",e=this.getOffsetParent(a,d);while(e){b+=a.offsetLeft,c+=a.offsetTop;if(d){var f=this.getPageScroll();b+=f.x,c+=f.y}a=e,d=this.getElementStyle(a).position=="fixed",e=this.getOffsetParent(a,d)}return new this.Point(b,c)},getOffsetParent:function(a,b){return b&&a!=document.body?document.body:a.offsetParent},getElementSize:function(a){return new this.Point(a.clientWidth,a.clientHeight)},getElementStyle:function(a){if(a.currentStyle)return a.currentStyle;if(window.getComputedStyle)return window.getComputedStyle(a,"");this.z405(this.z285("z162"))},getElementStyleProperty:function(a,b){if(a.currentStyle)return a.currentStyle[b];if(window.getComputedStyle)return document.defaultView.getComputedStyle(a,null).getPropertyValue(b);this.z405(this.z285("z162"))},getEventTargetCoords:function(a){return getElementPosition(Z.Utils.target(a))},getFirstTouch:function(a){var b=null,c=a.touches,d=a.changedTouches;return c!==undefined?b=c[0]:d!==undefined&&(b=d[0]),b},getMousePosition:function(a){var b=0,c=0;return a.type=="DOMMouseScroll"&&browser==Browser.FIREFOX&&browserVersion<3?(b=a.screenX,c=a.screenY):typeof a.pageX=="number"?(b=a.pageX,c=a.pageY):typeof a.clientX=="number"?(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,c=a.clientY+document.body.scrollTop+document.documentElement.scrollTop):this.z405(this.z285("z163")),new this.Point(b,c)},getMouseScroll:function(a){var b=0;return typeof a.wheelDelta=="number"?b=a.wheelDelta:typeof a.detail=="number"?b=a.detail*-1:this.z405(this.z285("z164")),b?b/Math.abs(b):0},getPageScroll:function(){var a=0,b=0,c=document.documentElement||{},d=document.body||{};if(typeof window.pageXOffset=="number")a=window.pageXOffset,b=window.pageYOffset;else if(d.scrollLeft||d.scrollTop)a=d.scrollLeft,b=d.scrollTop;else if(c.scrollLeft||c.scrollTop)a=c.scrollLeft,b=c.scrollTop;return new this.Point(a,b)},getWindowSize:function(){var a=0,b=0,c=document.documentElement||{},d=document.body||{};return typeof window.innerWidth=="number"?(a=window.innerWidth,b=window.innerHeight):c.clientWidth||c.clientHeight?(a=c.clientWidth,b=c.clientHeight):d.clientWidth||d.clientHeight?(a=d.clientWidth,b=d.clientHeight):this.z405(this.z285("z165")),new this.Point(a,b)},z353:function(a){var b=!1,c=a;while(b==0){if(!c)break;c.id?c.id=="ViewerDisplay"?b=!0:c=c.parentNode:c=c.parentNode}return b},z384:function(a){var b=a+"=",c=document.cookie.split(";");for(var d=0;d<c.length;d++){var e=c[d];while(e.charAt(0)==" ")e=e.substring(1,e.length);if(e.indexOf(b)==0)return e.substring(b.length,e.length)}return null},z392:function(a){var b=a.slice(-1,a.length)=="/"?a.slice(0,a.length-1):a;return b},z215:function(a){return a+="?noCacheSfx="+(new Date).getTime().toString(),a},z274:function(a,b,c,d){var e=b-a;return(c/=d/2)<1?e/2*c*c*c*c*c+a:e/2*((c-=2)*c*c*c*c+2)+a},z368:function(a){var b;return a&&(b=a.split("&")),b},z399:function(a){var b=this.z285("z100"),c=this.z285("z99"),d=this.z285("z98"),e=this.z285("z103"),f=this.z285("z102"),g=this.z285("z101"),h=e!=f?!0:!1,i=this.z285("z33"),j=this.z285("z32"),k=this.z285("z31"),l=i!=j?!0:!1;Z.skinPath=this.z285("z112"),Z.skinMode=this.z285("z110"),isNaN(parseFloat(this.z285("z74")))||(Z.initialX=parseFloat(this.z285("z74"))),isNaN(parseFloat(this.z285("z75")))||(Z.initialY=parseFloat(this.z285("z75"))),isNaN(parseFloat(this.z285("z76")))||(Z.initialZ=parseFloat(this.z285("z76"))),isNaN(parseFloat(this.z285("z83")))||(Z.minZ=parseFloat(this.z285("z83"))),isNaN(parseFloat(this.z285("z81")))||(Z.maxZ=parseFloat(this.z285("z81"))),isNaN(parseFloat(this.z285("z133")))||(Z.zoomSpeed=parseFloat(this.z285("z133"))),isNaN(parseFloat(this.z285("z96")))||(Z.panSpeed=parseFloat(this.z285("z96"))),isNaN(parseFloat(this.z285("z53")))||(Z.fadeInSpeed=parseFloat(this.z285("z53"))),Z.toolbarVisible=parseInt(this.z285("z119"),10),Z.toolbarPosition=parseFloat(this.z285("z118")),Z.tooltipsVisible=this.z285("z120")!="0",Z.navigatorVisible=parseInt(this.z285("z93"),10),Z.navigatorW=parseInt(this.z285("z94"),10),Z.navigatorH=parseInt(this.z285("z89"),10),Z.navigatorL=parseInt(this.z285("z90"),10),Z.navigatorT=parseInt(this.z285("z92"),10),Z.navigatorFit=this.z285("z88"),Z.clickZoom=this.z285("DEFAULT_CLICKZOOM")!="0",Z.clickPan=this.z285("z42")!="0",Z.mousePan=this.z285("z84")!="0",Z.keys=this.z285("z77")!="0",Z.constrainPan=this.z285("z44")!="0",Z.sliderVisible=this.z285("z114")!="0",Z.fullPageVisible=this.z285("z62")!="0",Z.fullPageInitial=this.z285("z60IAL")!="0",Z.progressVisible=this.z285("z109")!="0",Z.logoVisible=this.z285("z79")!="0",Z.logoCustomPath=this.z285("z78"),Z.canvas=this.z285("z41")!="0",Z.debug=parseInt(this.z285("z52"),10);if(this.isStrVal(a))for(var m=0,n=a.length;m<n;m++){var o=a[m],p=o.indexOf("=");if(p>0){var q=o.substring(0,p),r=o.substring(p+1);if(this.isStrVal(r))switch(q){case"zInitialX":isNaN(parseFloat(r))||(Z.initialX=parseFloat(r));break;case"zInitialY":isNaN(parseFloat(r))||(Z.initialY=parseFloat(r));break;case"zInitialZoom":isNaN(parseFloat(r))||(Z.initialZ=parseFloat(r),Z.initialZ&&(Z.initialZ/=100));break;case"zMinZoom":!isNaN(parseFloat(r))&&parseFloat(r)>.01&&(Z.minZ=parseFloat(r),Z.minZ&&(Z.minZ/=100));break;case"zMaxZoom":isNaN(parseFloat(r))||(Z.maxZ=parseFloat(r),Z.maxZ&&(Z.maxZ/=100));break;case"zNavigatorVisible":Z.navigatorVisible=parseInt(r,10);break;case"zToolbarVisible":Z.toolbarVisible=parseInt(r,10);break;case"zLogoVisible":r=="0"&&(Z.logoVisible=!1);break;case"zSliderVisible":r=="0"&&(Z.sliderVisible=!1);break;case"zFullPageVisible":r=="0"&&(Z.fullPageVisible=!1);break;case"zFullPageInitial":r=="1"&&(Z.fullPageInitial=!0);break;case"zProgressVisible":r=="0"&&(Z.progressVisible=!1);break;case"zTooltipsVisible":r=="0"&&(Z.tooltipsVisible=!1);break;case"zSkinPath":Z.skinPath=r;break;default:if(b==c)alert(d+" "+q);else switch(q){case"zZoomSpeed":Z.zoomSpeed=parseInt(r,10);break;case"zPanSpeed":Z.panSpeed=parseInt(r,10);break;case"zFadeInSpeed":Z.fadeInSpeed=parseInt(r,10);break;case"zToolbarPosition":Z.toolbarPosition=parseInt(r,10);break;case"zNavigatorWidth":isNaN(parseFloat(r))||(Z.navigatorW=parseFloat(r));break;case"zNavigatorHeight":isNaN(parseFloat(r))||(Z.navigatorH=parseFloat(r));break;case"zNavigatorLeft":isNaN(parseFloat(r))||(Z.navigatorL=parseFloat(r));break;case"zNavigatorTop":isNaN(parseFloat(r))||(Z.navigatorT=parseFloat(r));break;case"zNavigatorFit":isNaN(parseFloat(r))||(Z.navigatorFit=parseInt(r,10));break;case"zClickZoom":r=="0"&&(Z.clickZoom=!1);break;case"zClickPan":r=="0"&&(Z.clickPan=!1);break;case"zMousePan":r=="0"&&(Z.mousePan=!1);break;case"zKeys":r=="0"&&(Z.keys=!1);break;case"zConstrainPan":r=="0"&&(Z.constrainPan=!1);break;case"zWatermarkPath":Z.watermarkPath=r;break;case"zCopyrightPath":Z.z245=r;break;case"zHotspotPath":Z.hotspotPath=r;break;case"zHotspotListTitle":Z.hotspotListTitle=r;break;case"zAnnotationPath":Z.annotationPath=r;break;case"zLogoCustomPath":Z.logoCustomPath=r;break;case"zCanvas":r=="0"&&(Z.canvas=!1);if(!Z.z223||!Z.canvas)Z.useCanvas=!1;break;case"zDebug":Z.debug=parseInt(r,10);break;case"zImageProperties":Z.imageProperties=r;break;case"zServerIP":Z.serverIP=r;break;case"zServerPort":Z.serverPort=r;break;case"zTileHandlerPath":Z.tileHandlerPath=r;break;case"zEditMode":Z.editMode=r;break;case"zSaveHandlerPath":Z.saveHandlerPath=r}}}}if(!Z.Utils.isStrVal(Z.tileHandlerPath))Z.tileSource="ZoomifyImageFolder";else if(Z.imagePath.toLowerCase().indexOf(".pff")!=-1)if(h){Z.tileSource="ZoomifyImageFile";var s=Z.tileHandlerPath;Z.tileHandlerPathFull=s}else alert(g);else Z.tileSource="OtherTileSource";if(Z.Utils.isStrVal(Z.annotationPath)||Z.Utils.isStrVal(Z.saveHandlerPath))if(l){if(Z.Utils.isStrVal(Z.saveHandlerPath)){var t=Z.saveHandlerPath;Z.saveHandlerPath=t}}else Z.annotationPath="",alert(k)},z391:function(a){for(var b=1;b<a.length;)a[b-1]==a[b]?a.splice(b,1):b++;return a},intersect:function(a,b){var c=[];for(var d=0;d<a.length;d++){var e=a[d],f=!1;for(var g=0;g<b.length&&e>=(elmt2=b[g]);g++)if(elmt2==e){f=!0;break}f&&c.push(a[d])}return c},subtract:function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=!1;for(var f=0;f<b.length&&d>=(elmt2=b[f]);f++)if(elmt2==d){e=!0;break}e&&a.splice(c--,1)}return a},clone:function(a,b,c){c=[];switch(a){case"hotspots":for(var d=0,e=b.length;d<e;d++){polygonPtsTemp=[];var f=b[d].polygonPts;if(b[d].polygonPts!==null)for(var g=0,h=f.length;g<h;g++)polygonPtsTemp.push({x:f[g].x,y:f[g].y});c.push({id:b[d].id,internalID:b[d].internalID,name:b[d].name,media:b[d].media,mediaType:b[d].mediaType,image:b[d].image,iW:b[d].iW,iH:b[d].iH,x:b[d].x,y:b[d].y,zoom:b[d].zoom,xScale:b[d].xScale,yScale:b[d].yScale,url:b[d].url,urlTarget:b[d].urlTarget,visibility:b[d].visibility,rollover:b[d].rollover,caption:b[d].caption,tooltip:b[d].tooltip,textColor:b[d].textColor,backColor:b[d].backColor,lineColor:b[d].lineColor,fillColor:b[d].fillColor,textVisible:b[d].textVisible,backVisible:b[d].backVisible,lineVisible:b[d].lineVisible,fillVisible:b[d].fillVisible,captionPosition:b[d].captionPosition,saved:b[d].saved,polygonPts:polygonPtsTemp})}break;case"pois":for(var d=0,e=b.length;d<e;d++)c.push({text:b[d].text,value:b[d].value,x:b[d].x,y:b[d].y,zoom:b[d].zoom});break;case"notes":for(var d=0,e=b.length;d<e;d++)c.push({text:b[d].text,value:b[d].value,noteText:b[d].noteText,poiID:b[d].poiID});break;case"labels":for(var d=0,e=b.length;d<e;d++)c.push({text:b[d].text,value:b[d].value,poiID:b[d].poiID})}return c},calculatePointsDistance:function(a,b,c,d){return Math.sqrt((a-=c)*a+(b-=d)*b)},getDimensionsFromPolygonPoints:function(a){var b=a[0].x,c=a[0].y,d=a[0].x,e=a[0].y;for(var f=1,g=a.length;f<g;f++)a[f].x<b&&(b=a[f].x),a[f].x>d&&(d=a[f].x),a[f].y<c&&(c=a[f].y),a[f].y>e&&(e=a[f].y);var h=d-b,i=e-c;return new Z.Utils.Point(h,i)},getCenterOfPolygonPoints:function(a){var b=a[0].x,c=a[0].y,d=a[0].x,e=a[0].y;for(var f=1,g=a.length;f<g;f++)b=Math.min(b,a[f].x),c=Math.min(c,a[f].y),d=Math.max(d,a[f].x),e=Math.max(e,a[f].y);var h=b+(d-b)/2,i=c+(e-c)/2;return new Z.Utils.Point(h,i)},createCallback:function(a,b){var c=[];for(var d=2,e=arguments.length;d<e;d++)c.push(arguments[d]);return function(){var d=c.concat([]);for(var e=0,f=arguments.length;e<f;e++)d.push(arguments[e]);return b.apply(a,d)}},z248:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=document.createElement(a);this.isStrVal(b)&&(q.id=b);var r=q.style;return r.display=this.isStrVal(c)?c:"inline-block",r.position=this.isStrVal(d)?d:"static",r.overflow=this.isStrVal(e)?e:"hidden",a=="canvas"?(this.isStrVal(f)&&q.setAttribute("width",f),this.isStrVal(g)&&q.setAttribute("height",g)):(this.isStrVal(f)&&(r.width=f),this.isStrVal(g&&g)&&(r.height=g)),this.isStrVal(h)&&(r.left=h),this.isStrVal(i)&&(r.top=i),r.borderStyle=this.isStrVal(j)?j:"none",r.borderWidth=this.isStrVal(k)?k:"0px",r.borderColor="#696969",r.background=this.isStrVal(l)?l:"transparent none",r.margin=this.isStrVal(m)?m:"0px",r.padding=this.isStrVal(n)?n:"0px",r.whiteSpace=this.isStrVal(o)?o:"normal",this.isStrVal(p)&&(r.cursor=p),q},z247:function(a){var b=this.z248("div"),c=[];c.push('<div style="display:table; height:100%; width:100%;'),c.push("border:none; margin:0px; padding:0px;"),c.push('#position:relative; overflow:hidden; text-align:left;">'),c.push('<div style="#position:absolute; #top:50%; width:100%; '),c.push("border:none; margin:0px; padding:0px;"),c.push('display:table-cell; vertical-align:middle;">'),c.push('<div style="#position:relative; #top:-50%; width:100%; '),c.push("border:none; margin:0px; padding:0px;"),c.push('text-align:center;"></div></div></div>'),b.innerHTML=c.join(""),b=b.firstChild;var d=b,e=b.getElementsByTagName("div");while(e.length>0)d=e[0],e=d.getElementsByTagName("div");return d.appendChild(a),b},z250:function(a){var b=this.z248("img"),c=null;return Z.browser==Z.browsers.IE&&Z.browserVersion<7?(c=this.z248("span",null,"inline-block"),b.onload=function(){c.style.width=c.style.width||b.width+"px",c.style.height=c.style.height||b.height+"px",b.onload=null,b=null},c.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+a+"', sizingMethod='scale')"):(c=b,c.src=a),c},z254:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=Z.Utils.z248("div","textBoxFor"+a,"inline-block","absolute","hidden",c,d,e,f,h,i,"white","0px",g,"normal"),p=document.createElement("textarea");o.appendChild(p);var q=p,r=q.style;return q.id=a,q.value=b,q.readOnly=k,q.overflowY=j,r.width="100%",r.height="100%",r.margin="0",r.border="0",r.fontFamily=l,r.fontSize=m,r.resize=n,o},z253:function(a,b,c,d,e,f,g,h){sList=document.createElement("select"),sList.id=a,Z.Utils.isStrVal(b)&&(sList.options[0]=new Option(b,null));for(var i=0,j=c.length;i<j;i++)sList.options[sList.options.length]=new Option(c[i].text,c[i].value);return sList.onchange=h,sList.style.width=d+"px",sList.style.position="absolute",sList.style.left=e+"px",sList.style.top=f+"px",sList.style.visibility=g,sList},z428:function(a,b){if(a){a.innerHTML="";for(var c=0,d=b.length;c<d;c++)a.options[a.options.length]=new Option(b[c].text,b[c].value)}},z401:function(a,b,c,d,e,f,g,h,i,j,k,l){var m=a.parentNode.style;m.color=b,m.fontFamily=c,m.fontSize=d,m.fontSizeAdjust=e,m.fontStyle=f,m.fontStretch=g,m.fontVariant=h,m.fontWeight=i,m.lineHeight=j,m.textAlign=k,m.textDecoration=l},z241:function(a){var b=null;if(window.ActiveXObject)try{b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a)}catch(c){this.z405(c.name+this.z285("z139")+c.message)}else if(window.DOMParser)try{var d=new DOMParser;b=d.parseFromString(a,"text/xml")}catch(c){this.z405(c.name+this.z285("z139")+c.message)}else this.z405(this.z285("z168"));return b},z240:function(a){var b=null;if(window.ActiveXObject)try{b=a.xml}catch(c){this.z405(c.name+this.z285("z138")+c.message)}else if(window.DOMParser)try{b=(new XMLSerializer).serializeToString(a)}catch(c){this.z405(c.name+this.z285("z138")+c.message)}else this.z405(this.z285("z168"));return b},Point:function(a,b){this.x=typeof a=="number"?a:0,this.y=typeof b=="number"?b:0},Point3D:function(a,b,c){this.x=typeof a=="number"?a:0,this.y=typeof b=="number"?b:0,this.z=typeof c=="number"?c:0},z285:function(a){var b="";switch(a){case"z100":b="Enable Developer parameters";break;case"z99":b="Changing This Violates License Agreement";break;case"z98":b="Support for this parameter is enabled only in the Zoomify Image Viewer included in the Zoomify HTML5 Developer edition: ";break;case"z103":b="Changing this violates License Agreement";break;case"z102":b="Changing this violates License Agreement";break;case"z101":b="Support for PFF single file storage is enabled only in the Zoomify Image Viewer included in the Zoomify Enterprise products.";break;case"z33":b="Changing this violates License Agreement";break;case"z32":b="Changing this violates License Agreement";break;case"z31":b="Support for annotations is enabled only in the Zoomify Image Viewer included in the Zoomify Enterprise products.";break;case"z73":b="200";break;case"z72":b="30000";break;case"z116":b="1.15";break;case"z117":Z.mobileDevice?b="50":b="300";break;case"z40":b="6";break;case"z39":b="3";break;case"z38":b="3";break;case"z37":b="2";break;case"z36":b="0";break;case"z95":Z.mobileDevice?b="1":b="1.5";break;case"z96":b="5";break;case"z97":b="10";break;case"z133":b="5";break;case"z134":b="0.02";break;case"z135":b="30";break;case"z136":b="20";break;case"z137":b="800";break;case"z43":b="0.2";break;case"z63":b="10";break;case"z53":b="5";break;case"z54":b="0.067";break;case"z119":b="4";break;case"z118":b="1";break;case"z120":b="1";break;case"z93":b="2";break;case"z94":b="150";break;case"z89":b="100";break;case"z90":b="0";break;case"z92":b="0";break;case"z88":b=null;break;case"z86":b="#ffffff";break;case"z86NOALPHA":b="#fbfafa";break;case"z85":b="0.75";break;case"z25":b="#ffffff";break;case"z25NOALPHA":b="#fbfafa";break;case"z24":b="0.75";break;case"z91":b="blue";break;case"z111":b="skinFiles.xml";break;case"z112":b="Assets/Skins/Default";break;case"z110":b="0";break;case"z44":b="1";break;case"z114":b="1";break;case"z113":b="10";break;case"z62":b="1";break;case"z60IAL":b="0";break;case"z59":b="white";break;case"z58":b="X";break;case"z57":b="	#F8F8F8";break;case"z109":b="1";break;case"z107":b="500";break;case"z108":b=" ";break;case"z79":b="1";break;case"z78":b=null;break;case"z41":b="1";break;case"z52":b="0";break;case"DEFAULT_MESSAGESCREENCOLOR":b="lightgray";break;case"DEFAULT_MESSAGEBUTTONCOLOR":b="white";break;case"DEFAULT_MESSAGEOKBUTTONTEXT":b="OK";break;case"DEFAULT_MESSAGECANCELBUTTONTEXT":b="Cancel";break;case"z51":b="lightgray";break;case"z49":b="white";break;case"z48":b="Agree";break;case"z50":b="Exit";break;case"z128":b="0.6";break;case"z129":b="0.33";break;case"z131":b="512";break;case"z130":b="384";break;case"z71":b="hotspots.xml";break;case"z65":b="6";break;case"DEFAULT_MINHOTSPOTCAPTIONPADDING":b="2";break;case"DEFAULT_MAXHOTSPOTCAPTIONPADDING":b="7";break;case"z64":b="14";break;case"z82":b="3";break;case"z80":b="14";break;case"z56":b="1.8";break;case"z70":b=!0;break;case"z105":b=1;break;case"z45":b="1";break;case"z47":b="#ffffff";break;case"z55":b="#ffffff";break;case"z115":b="#999999";break;case"z46":b="10";break;case"z68":b="Hotspots";break;case"z67":b="NAME";break;case"z69":b="200";break;case"z66":b="2";break;case"z34":b="annotations.xml";break;case"DEFAULT_ANNOTATIONSXMLSAVEHANDLERNAME1":b="save";break;case"z35":b="upload";break;case"z30":b=!0;break;case"z29":b="220";break;case"z27":b="200";break;case"z19":b="160";break;case"z23":b="189";break;case"z21":b="88";break;case"z22":b="6";break;case"z20":b="11";break;case"DEFAULT_ANNOTATIONNOTEVISIBILITY":b=!0;break;case"z28":b="11";break;case"z74":b=null;break;case"z75":b=null;break;case"z76":b=null;break;case"z83":b=null;break;case"z81":b="1";break;case"DEFAULT_CLICKZOOM":b="1";break;case"z42":b="1";break;case"z84":b="1";break;case"z77":b="1";break;case"z122":b="This panel is enabled using the HTML parameter 'zDebug=1' (basic) or 'zDebug=2' (adds tile tracing). It can be called in JavaScript as follows:\n\n   Z.Utils.trace('value to display');  \n\nThe buttons below display or modify important state values.  Web designers new to JavaScript will also benefit from the console, trace, profiling, and other debugging features of leading browsers.";break;case"z123":b="lightgray";break;case"z121":b="white";break;case"z124":b="Show Globals";break;case"z127":b="Toggle Display";break;case"z125":b="Toggle Backfill";break;case"z126":b="Toggle Constrain Pan";break;case"z3":b="Displaying or editing polygon hotspots requires a browser that supports the HTML5 canvas feature.";break;case"z2":b="Cancelling all unsaved edits.";break;case"z6":b="Saving unsaved edits.";break;case"z1":b="XML save complete.";break;case"z4":b="SAVEDISABLEDFORDEMO";break;case"z5":b="Edits to this demo are saved only for the duration of the browser session.";break;case"z169":b="Browser does not support XMLHttpRequest.";break;case"z148-IMAGEXML":b="Error loading image: please make sure image path in web page matches image folder location on webserver.";break;case"z148-IMAGEHEADER":b="Error loading image: image header request invalid.";break;case"z148-IMAGEOFFSET":b="Error loading image: image offset request invalid.";break;case"z148-TOOLBARXML":b="Error loading toolbar - skin files not found: please verify that the folders 'Assets/Skins/Default' are in same folder as the web page displaying the Viewer, or add zSkinPath parameter to web page.";break;case"z148-HOTSPOTSXML":b="Error loading hotspots: please make sure hotspot path in web page matches hotspot folder location on webserver.";break;case"z148-ANNOTATIONSXML":b="Error loading annotations: please make sure annotation path in web page matches annotation folder location on webserver.";break;case"z148-ANNOTATIONSSAVEHANDLER":b="Error saving annotations: please make sure save handler path in web page matches save handler file location on webserver.";break;case"z148":b="Error making network request: possible invalid path or network error.";break;case"z143":b="Image failed to load: possible invalid path, missing image, or network error.";break;case"z161":b="Sorry!  Part of this view isn't refreshing.  The network may be slow, or the website might be missing a file:  ";break;case"z142":b="Hotspot media failed to load: possible invalid path, missing file, or legacy hotspot media such as library clip of Flash-based viewer.";break;case"z141":b="Media of one or more hotspots unsupported: hotspot media of type 'symbol' depend on internal Library of Flash-based viewers.";break;case"z171":b="Annotations cannot be saved: missing or incorrect save handler path parameter, or missing file on server.";break;case"z157":b="Error related to network security: ";break;case"z158":b="Error related to network status: ";break;case"z139":b=" converting XML text to XML doc (DOMParser): ";break;case"z138":b=" converting XML doc to XML text (DOMParser): ";break;case"z168":b="Browser does not support XML DOM.";break;case"z167":b="XML Doc invalid.";break;case"z170":b="XML invalid.";break;case"z147":b="Image XML invalid.";break;case"z144":b="Image properties parameter invalid.";break;case"z146":b="Image tile count does not match value in image XML. If the count is invalid display problems can result.";break;case"z140":b=" while executing callback: ";break;case"z145":b="Image timed out: ";break;case"z156":b="Navigator image failed to load: possible invalid path, missing image, or network error.";break;case"z159":b="Skin XML invalid.";break;case"z160":b="The skin XML file has one or more faulty name lines.";break;case"z166":b="Watermark image failed to load: ";break;case"z162":b="Unknown element style - no known method to identify.";break;case"z163":b="Unknown mouse position - no known method to calculate.";break;case"z164":b="Unknown mouse scroll - no known method to calculate.";break;case"z165":b="Unknown window size - no known method to calculate.";break;case"z181":b="Launch Zoomify Website";break;case"z182":b="Minimize Toolbar";break;case"z180":b="Expand Toolbar";break;case"z196":b="Zoom Out";break;case"z189":b="Zoom In And Out";break;case"z195":b="Zoom In";break;case"z184":b="Pan Left";break;case"z186":b="Pan Up";break;case"z183":b="Pan Down";break;case"z185":b="Pan Right";break;case"z187":b="Reset Initial View";break;case"z194":b="Toggle Full Page View";break;case"z174":b="Cancel Full Page View";break;case"z193":b="Toggle Label Editing";break;case"z178":b="Delete Label Selected in Choicelist";break;case"z177":b="Cancel Edits To Current Label";break;case"z179":b="Save All Label Edits";break;case"TIP_MESSAGEOK":b="Accept and close message";break;case"TIP_MESSAGECANCEL":b="Decline and close message";break;case"z175":b="Agree to copyright and view images";break;case"z176":b="Exit and do not view images";break;case"z188":b="Toggle Full Page View";break;case"z192":b="Toggle Viewport Display";break;case"z190":b="Toggle Viewport Backfill";break;case"z191":b="Toggle Constrain Pan";break;case"z199":b="POI";break;case"z198":b="Note";break;case"z197":b="Label";break;case"z18":b="Anonymous";break;case"z16":b="Unnamed Point Of Interest";break;case"z17":b=this.z285("z18");break;case"z13":b="Unnamed Note";break;case"z14":b="Note text";break;case"z15":b=this.z285("z18");break;case"z11":b="Unnamed Label";break;case"z12":b=this.z285("z18");break;case"z9":b="List creation in progress...";break;case"z10":b="Note loading in progress...";break;case"CONTENT_ANNOTATIONSCAPTIONTEXTCOLOR":b="#000000";break;case"CONTENT_ANNOTATIONSCAPTIONBACKCOLOR":b="#ffffff";break;case"CONTENT_ANNOTATIONSCAPTIONBACKVISIBLE":b="1";break;case"CONTENT_ANNOTATIONSCAPTIONPOSITION":b="8";break;case"CONTENT_POLYGONLINECOLOR":b="#ffff00";break;case"CONTENT_POLYGONFILLCOLOR":b="#ffffff";break;case"CONTENT_POLYGONLINEVISIBLE":b="1";break;case"CONTENT_POLYGONFILLVISIBLE":b="1";break;default:b="Unexpected resource request"}return b},z404:function(){var a="";a+="\n",a+="                            ZOOMIFY IMAGE VIEWER - CURRENT VALUES\n",a+="\n",a+="IMAGE & SKIN:    ",a+="Z.imagePath="+Z.imagePath+",   ",a+="Z.skinPath="+Z.skinPath+",   ",a+="Z.skinMode="+Z.skinMode+",   ",a+="Z.imageW="+Z.imageW+",   ",a+="Z.imageH="+Z.imageH+",   ",a+="tierCount="+Z.Viewport.z286()+",   ",a+="TILE_SIZE="+Z.Viewport.z294()+"\n",a+="\n",a+="PAGE & BROWSER:    ",a+="Z.pageContainer="+Z.pageContainer+",   ",a+="Z.browser="+Z.browser+",   ",a+="Z.browserVersion="+Z.browserVersion+",   ",a+="Z.z223="+Z.z223+",   ",a+="Z.cssTransformsSupported="+Z.cssTransformsSupported+",   ",a+="Z.cssTransformProperty="+Z.cssTransformProperty+",   ",a+="Z.cssTransformNoUnits="+Z.cssTransformNoUnits+",   ",a+="Z.alphaSupported="+Z.alphaSupported+",   ",a+="Z.renderQuality="+Z.renderQuality+",   ",a+="Z.mobileDevice="+Z.mobileDevice+"\n",a+="\n",a+="VIEWER OPTIONS & DEFAULTS:    ",a+="Z.initialX="+Z.initialX+",   ",a+="Z.initialY="+Z.initialY+",   ",a+="Z.initialZ="+Z.initialZ+",   ",a+="Z.minZ="+Z.minZ+",   ",a+="Z.maxZ="+Z.maxZ+",   ",a+="Z.fitZ="+Z.fitZ+",   ",a+="Z.zoomSpeed="+Z.zoomSpeed+",   ",a+="Z.panSpeed="+Z.panSpeed+",   ",a+="Z.fadeInSpeed="+Z.fadeInSpeed+",   ",a+="Z.toolbarVisible="+Z.toolbarVisible+",   ",a+="Z.toolbarW="+Z.toolbarW+",   ",a+="Z.toolbarCurrentW="+Z.toolbarCurrentW+",   ",a+="Z.toolbarH="+Z.toolbarH+",   ",a+="Z.toolbarPosition="+Z.toolbarPosition+",   ",a+="Z.tooltipsVisible="+Z.tooltipsVisible+",   ",a+="Z.navigatorVisible="+Z.navigatorVisible+",   ",a+="Z.navigatorW="+Z.navigatorW+",   ",a+="Z.navigatorH="+Z.navigatorH+",   ",a+="Z.navigatorL="+Z.navigatorL+",   ",a+="Z.navigatorT="+Z.navigatorT+",   ",a+="Z.navigatorFit="+Z.navigatorFit+",   ",a+="Z.clickZoom="+Z.clickZoom+",   ",a+="Z.clickPan="+Z.clickPan+",   ",a+="Z.mousePan="+Z.mousePan+",   ",a+="Z.keys="+Z.keys+",   ",a+="Z.constrainPan="+Z.constrainPan+",   ",a+="Watermark alpha = "+Z.Utils.z285("z128")+",   ",a+="Z.watermarkPath="+Z.watermarkPath+",   ",a+="Z.z245="+Z.z245+",   ",a+="Z.hotspotPath="+Z.hotspotPath+",   ",a+="Z.annotationPath="+Z.annotationPath+",   ",a+="Z.saveHandlerPath="+Z.saveHandlerPath+",   ",a+="Z.sliderVisible="+Z.sliderVisible+",   ",a+="Z.fullPageVisible="+Z.fullPageVisible+",   ",a+="Z.fullPageInitial="+Z.fullPageInitial+",   ",a+="Z.progressVisible="+Z.progressVisible+",   ",a+="Z.logoVisible="+Z.logoVisible+",   ",a+="Z.logoCustomPath="+Z.logoCustomPath+",   ",a+="Z.canvas="+Z.canvas+",   ",a+="Z.debug="+Z.debug+",   ",a+="Z.imageProperties="+Z.imageProperties+",   ",a+="Z.serverIP="+Z.serverIP+",   ",a+="Z.serverPort="+Z.serverPort+",   ",a+="Z.tileHandlerPath="+Z.tileHandlerPath+",   ",a+="Z.tileHandlerPathFull="+Z.tileHandlerPathFull+",   ",a+="Z.tileSource="+Z.tileSource+",   ",a+="Z.zEditMode="+Z.zEditMode+"\n",a+="\n",a+="INTERNAL VALUES:    ",a+="\n",a+="displayW="+Z.Viewport.getW()+",   ",a+="displayH="+Z.Viewport.getH()+",   ",a+="tierCurrent="+Z.Viewport.z287()+",   ",a+="tierScale="+Z.Viewport.getTierScale()+",   ",a+="TIERS_MAX_SCALE_UP="+Z.Viewport.z293()+",   ",a+="TIERS_MAX_SCALE_DOWN="+Z.Viewport.z292()+",   ",a+="TILES_MAX_CACHE="+Z.Viewport.z296()+",   ",a+="Z.useCanvas="+Z.useCanvas+"\n",a+="\n",a+="INTERNAL LISTS:    ",a+="tierWs="+Z.Viewport.z291()+",   ",a+="tierHs="+Z.Viewport.z288()+",   ",a+="tierTileCounts="+Z.Viewport.z290()+",   ",a+="tilesLoadingNames="+Z.Viewport.z295()+"\n",a+="\n",alert(a)},z405:function(a){Z.MessageDisplay?(Z.messages&&(Z.messages.value=a),Z.MessageDisplay.style.display="inline-block",typeof Z.MessageDisplay.messageTimer!="undefined"&&Z.MessageDisplay.messageTimer!==null&&window.clearTimeout(Z.MessageDisplay.messageTimer)):Z.Utils.configureMessageDisplay(a),Z.MessageDisplay.messageTimer=window.setTimeout(Z.Utils.hideMessageTimerHandler,2e3)},hideMessage:function(){Z.MessageDisplay.style.display="none"},hideMessageTimerHandler:function(){Z.MessageDisplay.messageTimer&&(window.clearTimeout(Z.MessageDisplay.messageTimer),Z.MessageDisplay.messageTimer=null),Z.Utils.hideMessage()},configureMessageDisplay:function(a){var b=430,c=100,d=Z.viewerW-b-80,e=Z.viewerH-c-80,f=this.z285("DEFAULT_MESSAGESCREENCOLOR"),g=this.z285("DEFAULT_MESSAGEBUTTONCOLOR");Z.MessageDisplay=this.z248("div","MessageDisplay","inline-block","absolute","hidden",b+"px",c+"px",d+"px",e+"px","solid","1px",f,"0px","0px","normal"),Z.ViewerDisplay.appendChild(Z.MessageDisplay);var h=Z.Utils.z254("messageBox",a,b-18+"px",c-40+"px","4px","4px","4px","solid","1px","auto",!0,"verdana","12px","none");Z.MessageDisplay.appendChild(h),Z.messages=document.getElementById("messageBox");var i=56,j=18,k=10,l=5,m=b,n=c-j-l,o;m-=i+k,o=this.z285("DEFAULT_MESSAGEOKBUTTONTEXT");var p=new Z.Utils.Button("buttonOk",o,null,null,null,null,i+"px",j+"px",m+"px",n+"px","mousedown",this.messageOkButtonHandler,"TIP_MESSAGEOK","solid","1px",g,"0px","0px");Z.MessageDisplay.appendChild(p.elmt)},messageOkButtonHandler:function(a){return Z.Utils.hideMessage(),!0},messageCancelButtonHandler:function(a){return Z.Utils.hideMessage(),!1},z407:function(){Z.TraceDisplay?Z.TraceDisplay.style.display="inline-block":Z.Utils.z228()},hideTraces:function(){Z.TraceDisplay.style.display="none"},z228:function(){var a=Z.viewerW/3,b=Z.viewerH/3+45,c=10,d=Z.viewerH/3,e=this.z285("z123");Z.TraceDisplay=this.z248("div","TraceDisplay","inline-block","absolute","hidden",a+"px",b+"px",c+"px",d+"px","solid","1px",e,"0px","10px","normal"),Z.ViewerDisplay.appendChild(Z.TraceDisplay);var f="Trace Values\n",g=Z.Utils.z254("debugTraces",f,a-15+"px",b-60+"px","10px","10px","5px","solid","1px","auto",!0,"verdana","10px","none");Z.TraceDisplay.appendChild(g),Z.traces=document.getElementById("debugTraces");var h=58,i=42,j=20,k=b-i/2-10,l=10,m=this.z285("z121"),n=this.z285("z124"),o=new this.Button("buttonShowGlobals",n,null,null,null,null,h+"px",i+"px",j+"px",k+"px","mousedown",this.z404,"z188","solid","1px",m,"0px","0px");Z.TraceDisplay.appendChild(o.elmt),j+=h+l;var n=this.z285("z127"),p=new this.Button("buttonToggleDisplay",n,null,null,null,null,h+"px",i+"px",j+"px",k+"px","mousedown",Z.Viewport.z426,"z192","solid","1px",m,"0px","0px");Z.TraceDisplay.appendChild(p.elmt),j+=h+l;var n=this.z285("z125"),q=new this.Button("buttonToggleBackfill",n,null,null,null,null,h+"px",i+"px",j+"px",k+"px","mousedown",Z.Viewport.z424,"z190","solid","1px",m,"0px","0px");Z.TraceDisplay.appendChild(q.elmt),j+=h+l,h+=12;var n=this.z285("z126"),r=new this.Button("buttonToggleConstrainPan",n,null,null,null,null,h+"px",i+"px",j+"px",k+"px","mousedown",Z.Viewport.z425,"z191","solid","1px",m,"0px","0px");Z.TraceDisplay.appendChild(r.elmt)},trace:function(a){Z.TraceDisplay||Z.Utils.z228(),Z.traces&&(Z.traces.value+="\n"+a+"\n")},z265:function(a,b,c){var d=Z.Utils.z248("div","viewportCenterLineVertical","inline-block","absolute","visible","1px",c+"px",b/2+"px","0px","solid","1px","transparent none","0px","0px","normal"),e=Z.Utils.z248("div","viewportCenterLineHorizontal","inline-block","absolute","visible",b+"px","1px","0px",c/2+"px","solid","1px","transparent none","0px","0px","normal");a.appendChild(e),a.appendChild(d)}}